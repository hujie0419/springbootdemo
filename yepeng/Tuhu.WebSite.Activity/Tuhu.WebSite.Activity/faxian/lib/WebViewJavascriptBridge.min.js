(function(){function v(t){n=t.createElement("iframe");n.style.display="none";t.documentElement.appendChild(n)}function y(){var n=navigator.userAgent.toLowerCase(),t=n.indexOf("android")>-1;return t?!0:!1}function p(){var n=navigator.userAgent.toLowerCase(),t=n.indexOf("iphone")>-1;return t?!0:!1}function w(n){var u,r;if(t._messageHandler)throw new Error("WebViewJavascriptBridge.init called twice");for(t._messageHandler=n,u=i,i=null,r=0;r<u.length;r++)c(u[r])}function b(n,t){o({data:n},t)}function k(n,t){s[n]=t}function d(n,t,i){o({handlerName:n,data:t},i)}function o(t,i){if(i){var r="cb_"+a+++"_"+(new Date).getTime();e[r]=i;t.callbackId=r}f.push(t);n.src=h+"://"+l}function g(){var t=JSON.stringify(f);if(f=[],p())return t;y()&&(n.src=h+"://return/_fetchQueue/"+t)}function c(n){setTimeout(function(){var i=JSON.parse(n),r,f,u;if(i.responseId){if(r=e[i.responseId],!r)return;r(i.responseData);delete e[i.responseId]}else{i.callbackId&&(f=i.callbackId,r=function(n){o({responseId:f,responseData:n})});u=t._messageHandler;i.handlerName&&(u=s[i.handlerName]);try{u(i.data,r)}catch(h){typeof console!="undefined"&&console.log("WebViewJavascriptBridge: WARNING: javascript handler threw.",i,h)}}})}function nt(n){i?i.push(n):c(n)}var t,r,u;if(!window.WebViewJavascriptBridge){var n,f=[],i=[],s={},h="yy",l="__QUEUE_MESSAGE__/",e={},a=1;t=window.WebViewJavascriptBridge={init:w,send:b,registerHandler:k,callHandler:d,_fetchQueue:g,_handleMessageFromNative:nt};r=document;v(r);u=r.createEvent("Events");u.initEvent("WebViewJavascriptBridgeReady");u.bridge=t;r.dispatchEvent(u)}})();