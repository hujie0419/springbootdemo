webpackJsonp([4],{"+skl":function(e,t){},"9Q9G":function(e,t){},HkXY:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),s={props:{name:{type:String}},methods:{logout:function(){this.$emit("logout")}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[e._m(0),e._v(" "),n("div",{staticClass:"header-aside"},[n("Dropdown",{on:{"on-click":e.logout}},[n("a",{staticClass:"header-aside-main",attrs:{href:"javascript:void(0)"}},[n("Icon",{staticClass:"main-icon",attrs:{type:"ios-person"}}),e._v("\n          "+e._s(e.name)+"\n          "),n("Icon",{attrs:{type:"arrow-down-b"}})],1),e._v(" "),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",[e._v("退出登录")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"headerlogo"},[t("img",{staticClass:"header-logo-line",attrs:{src:"static/logo.png"}}),this._v(" "),t("div",{staticClass:"header-logo-title"},[t("h3",[this._v("途虎运营系统")]),this._v(" "),t("h4",[this._v("setting.tuhu.cn")])])])}]};var o=n("VU/8")(s,r,!1,function(e){n("pDZY")},null,null).exports,i={name:"setting-menu",props:{menus:{type:Array}},data:function(){return{searchVal:"",filteredMenus:[],openedmenus:[],shrinked:!1,activename:""}},watch:{$route:function(){this.setActiveName(this.$router.currentRoute.name)}},mounted:function(){this.filteredMenus=this.menus,this.setActiveName(this.$router.currentRoute.name)},methods:{goto:function(e){this.$router.push({name:e})},fliter:function(){var e=this.searchVal;this.filteredMenus=this.menus.filter(function(t){return t.name.indexOf(e)>=0}),this.updateOpenedMenus(this.util.array.select(this.filteredMenus,function(e){return e.key}))},updateOpenedMenus:function(e,t){this.openedmenus=e,t&&(this.activename=t),this.$nextTick(function(){this.$refs.orangeMenu.updateOpened(),this.$refs.orangeMenu.updateActiveName()})},setActiveName:function(e){var t;this.menus.forEach(function(n){n.children.forEach(function(a){a.key===e&&(t=n.key)})}),this.updateOpenedMenus([t],e)}}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{nav:!e.shrinked}},[n("Input",{staticClass:"search",attrs:{icon:"ios-search",placeholder:"筛选一级目录"},on:{"on-enter":e.fliter,"on-click":e.fliter},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),e._v(" "),n("Menu",{ref:"orangeMenu",attrs:{width:"210px","open-names":e.openedmenus,"active-name":e.activename},on:{"on-select":e.goto}},e._l(e.filteredMenus,function(t,a){return n("Submenu",{key:a,attrs:{name:t.key}},[n("template",{slot:"title"},[n("Icon",{attrs:{type:t.icon}}),e._v("\n                "+e._s(t.name)+"\n            ")],1),e._v(" "),e._l(t.children,function(t,a){return n("MenuItem",{key:a,attrs:{name:t.key}},[e._v("\n            "+e._s(t.name)+"\n            ")])})],2)})),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.shrinked,expression:"shrinked"}],staticClass:"hide",on:{click:function(t){e.shrinked=!e.shrinked}}},[e._v("收起")])],1)},staticRenderFns:[]};var c={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"footer"},[t("div",{staticClass:"footer-data"},[t("span",[this._v("所有内容为途虎养车网商业机密信息，切勿泄漏。版权所有 途虎养车网 2011-2015")])])])}]};var l={name:"App",data:function(){return{user:{name:""}}},computed:{menus:function(){return this.$store.state.app.menus},username:function(){return this.$store.state.user.name}},components:{settingheader:o,settingmenu:n("VU/8")(i,u,!1,function(e){n("HkXY")},null,null).exports,settingfooter:n("VU/8")({},c,!1,function(e){n("ROvl")},null,null).exports},methods:{logout:function(){var e=location.hostname.replace("yunying","yewu").replace("setting","yewu");window.location.href=location.protocol+"//"+e+"/Account/LogOff"}}},h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("settingheader",{attrs:{name:this.username},on:{logout:this.logout}}),this._v(" "),t("settingmenu",{attrs:{menus:this.menus}}),this._v(" "),t("div",{staticClass:"content"},[t("div",{staticClass:"real-content"},[t("router-view")],1),this._v(" "),t("settingfooter")],1)],1)},staticRenderFns:[]};var m,d,p=n("VU/8")(l,h,!1,function(e){n("UeEU")},null,null).exports,f=n("BTaQ"),v=n.n(f),g=(n("+skl"),n("9Q9G"),n("mvHQ")),_=n.n(g),k=n("//Fk"),y=n.n(k),w=n("mtWM"),b=n.n(w),M={};M.title=function(e){e=e||"喷漆配置",window.document.title=e},b.a.interceptors.request.use(function(e){return d.start(),e},function(e){return d.error(),y.a.reject(e)}),b.a.interceptors.response.use(function(e){console.log(e);var t=/Msg[\s|\S]*[-]*.*IsPower/;return t.test(e.data)&&M.message.error({content:e.data.match(t)[0].replace("Msg:","").replace(",IsPower",""),duration:10,closable:!0}),d.finish(),e},function(e){d.error(),m.error({content:_()(e.response.data),duration:10,closable:!0})}),M.ajax=b.a,M.axiosInstance=b.a.create(),M.useMessage=function(e){m=e},M.useLoadingbar=function(e){d=e},M.message=m,M.array={},M.array.select=function(e,t){var n=[];return e.forEach(function(e,a){n.push(t(e))}),n};var $=M,x=n("NYxO"),j={namespaced:!0,state:{menu:{menus:[],openedmenus:[],shrinked:[]},user:{name:"",permission:[]}},mutations:{init:function(e,t){console.log(t),e.menus=t}}},E={namespaced:!0,state:{name:"",permissions:[]},mutations:{logout:function(e){},init:function(e,t){e.name=t.name,e.permissions=t.permissions}}};a.default.use(x.a);var C=new x.a.Store({state:{},mutations:{},actions:{},modules:{app:j,user:E}}),V=[{key:"1",name:"保养活动",icon:"ios-speedometer",children:[{key:"demo",name:"配置"},{key:"1-2",name:"报表"}]},{key:"2",name:"大客户保养",icon:"ios-calendar",children:[{key:"2-1",name:"套餐配置"},{key:"2-2",name:"发码配置"}]},{key:"jobgroup",name:"优先级配置",icon:"ios-briefcase",children:[{key:"jobgrouplist",name:"通用配置"},{key:"3-2",name:"特殊车型配置"},{key:"3-3",name:"监控"}]}];a.default.use(v.a),a.default.config.productionTip=!1,a.default.prototype.ajax=$.ajax,a.default.prototype.util=$,console.log(a.default.prototype.$Message),$.useMessage(a.default.prototype.$Message),a.default.prototype.$Loading.config({color:"#2ca9e1",failedColor:"#c9171e",height:2}),$.useLoadingbar(a.default.prototype.$Loading),$.ajax.get("/auth/GetBasicInformantion").then(function(e){if(e.data.success){C.commit("user/init",e.data.user),C.commit("app/init",V);var t=n("YaEn").default;t.beforeEach(function(e,t,n){(v.a.LoadingBar.start(),$.title(e.meta.title),console.log("pat"+e.meta.authpath),e.meta.authpath)?$.axiosInstance.get("/auth/haspower?path="+e.meta.authpath).then(function(e){e.data.success&&e.data.result?n():n({path:"/403"})}).catch(function(e){console.log(e),v.a.LoadingBar.error(),n({path:"/500"})}):n()}),t.afterEach(function(e){console.log("finish"),v.a.LoadingBar.finish()}),new a.default({el:"#app",router:t,store:C,components:{App:p},template:"<App/>"})}else{var s=location.hostname.replace("yunying","yewu").replace("setting","yewu");window.location.href=location.protocol+"//"+s+"/Account/LogOn?ReturnUrl="+location.href}})},ROvl:function(e,t){},UeEU:function(e,t){},YaEn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),s=n("/ocq"),r={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},o=n("VU/8")(null,r,!1,null,null,null).exports,i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1"),e._v(" "),n("h2",[e._v("index Essential Links")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),n("br"),e._v(" "),n("li",[n("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])]),e._v(" "),n("h2",[e._v("Ecosystem")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[e._v("\n        vue-router\n      ")])]),e._v(" "),n("li",[n("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[e._v("\n        vuex\n      ")])]),e._v(" "),n("li",[n("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[e._v("\n        vue-loader\n      ")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[e._v("\n        awesome-vue\n      ")])])])])}]};var u=n("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},i,!1,function(e){n("cBVJ")},"data-v-5c9a3808",null).exports;n.d(t,"page404",function(){return c}),n.d(t,"page403",function(){return l}),n.d(t,"page500",function(){return h}),a.default.use(s.a);var c={path:"/*",name:"error-404",meta:{title:"404-页面不存在"},component:function(){return n.e(0).then(n.bind(null,"LWjT"))}},l={path:"/403",meta:{title:"403-权限不足"},name:"error-403",component:function(){return n.e(1).then(n.bind(null,"J7+d"))}},h={path:"/500",meta:{title:"500-服务端错误"},name:"error-500",component:function(){return n.e(2).then(n.bind(null,"0Gql"))}};t.default=new s.a({routes:[{path:"/",name:"index",component:o,meta:{title:"首页"}},{path:"/demo",name:"demo",component:u,meta:{title:"demo",authpath:"/test/api"}},l,h,c]})},cBVJ:function(e,t){},pDZY:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.5d28eee1ee2b01aad0a6.js.map