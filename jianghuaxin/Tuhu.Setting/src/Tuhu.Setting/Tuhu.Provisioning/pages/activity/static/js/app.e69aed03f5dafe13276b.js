webpackJsonp([4],{"+skl":function(e,t){},"0mhl":function(e,t){},"9Q9G":function(e,t){},G4ve:function(e,t){},H9rC:function(e,t){},HkXY:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("7+uW"),n={props:{name:{type:String}},methods:{logout:function(){this.$emit("logout")}}},a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"header"},[e._m(0),e._v(" "),o("div",{staticClass:"header-aside"},[o("Dropdown",{on:{"on-click":e.logout}},[o("a",{staticClass:"header-aside-main",attrs:{href:"javascript:void(0)"}},[o("Icon",{staticClass:"main-icon",attrs:{type:"ios-person"}}),e._v("\n          "+e._s(e.name)+"\n          "),o("Icon",{attrs:{type:"arrow-down-b"}})],1),e._v(" "),o("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[o("DropdownItem",[e._v("退出登录")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"headerlogo"},[t("img",{staticClass:"header-logo-line",attrs:{src:"static/logo.png"}}),this._v(" "),t("div",{staticClass:"header-logo-title"},[t("h3",[this._v("途虎运营系统")]),this._v(" "),t("h4",[this._v("setting.tuhu.cn")])])])}]};var s=o("VU/8")(n,a,!1,function(e){o("pDZY")},null,null).exports,l={name:"setting-menu",props:{menus:{type:Array}},data:function(){return{searchVal:"",filteredMenus:[],openedmenus:[],shrinked:!1,activename:""}},watch:{$route:function(){this.setActiveName(this.$router.currentRoute.name)}},mounted:function(){this.filteredMenus=this.menus,this.setActiveName(this.$router.currentRoute.name)},methods:{goto:function(e){this.$router.push({name:e})},fliter:function(){var e=this.searchVal;this.filteredMenus=this.menus.filter(function(t){return t.name.indexOf(e)>=0}),this.updateOpenedMenus(this.util.array.select(this.filteredMenus,function(e){return e.key}))},updateOpenedMenus:function(e,t){this.openedmenus=e,t&&(this.activename=t),this.$nextTick(function(){this.$refs.orangeMenu.updateOpened(),this.$refs.orangeMenu.updateActiveName()})},setActiveName:function(e){var t;this.menus.forEach(function(o){o.children.forEach(function(i){i.key===e&&(t=o.key)})}),this.updateOpenedMenus([t],e)}}},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:{nav:!e.shrinked}},[o("Input",{staticClass:"search",attrs:{icon:"ios-search",placeholder:"筛选一级目录"},on:{"on-enter":e.fliter,"on-click":e.fliter},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),e._v(" "),o("Menu",{ref:"orangeMenu",attrs:{width:"210px","open-names":e.openedmenus,"active-name":e.activename},on:{"on-select":e.goto}},e._l(e.filteredMenus,function(t,i){return o("Submenu",{key:i,attrs:{name:t.key}},[o("template",{slot:"title"},[o("Icon",{attrs:{type:t.icon}}),e._v("\n                "+e._s(t.name)+"\n            ")],1),e._v(" "),e._l(t.children,function(t,i){return o("MenuItem",{key:i,attrs:{name:t.key}},[e._v("\n            "+e._s(t.name)+"\n            ")])})],2)})),e._v(" "),o("Button",{directives:[{name:"show",rawName:"v-show",value:e.shrinked,expression:"shrinked"}],staticClass:"hide",on:{click:function(t){e.shrinked=!e.shrinked}}},[e._v("收起")])],1)},staticRenderFns:[]};var u={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"footer"},[t("div",{staticClass:"footer-data"},[t("span",[this._v("所有内容为途虎养车网商业机密信息，切勿泄漏。版权所有 途虎养车网 2011-2015")])])])}]};var d={name:"App",data:function(){return{user:{name:""}}},computed:{menus:function(){return this.$store.state.app.menus},username:function(){return this.$store.state.user.name}},components:{settingheader:s,settingmenu:o("VU/8")(l,r,!1,function(e){o("HkXY")},null,null).exports,settingfooter:o("VU/8")({},u,!1,function(e){o("ROvl")},null,null).exports},methods:{logout:function(){var e=location.hostname.replace("yunying","yewu").replace("setting","yewu");window.location.href=location.protocol+"//"+e+"/Account/LogOff"}}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("settingheader",{attrs:{name:this.username},on:{logout:this.logout}}),this._v(" "),t("settingmenu",{attrs:{menus:this.menus}}),this._v(" "),t("div",{staticClass:"content"},[t("div",{staticClass:"real-content"},[t("router-view")],1),this._v(" "),t("div",{staticStyle:{height:"50px"}}),this._v(" "),t("settingfooter")],1)],1)},staticRenderFns:[]};var m=o("VU/8")(d,c,!1,function(e){o("0mhl")},null,null).exports,p=o("BTaQ"),v=o.n(p),g=(o("+skl"),o("9Q9G"),o("mvHQ")),h=o.n(g),y=o("//Fk"),f=o.n(y),C=o("Zrlr"),q=o.n(C),I=o("wxAW"),b=o.n(I),Q=o("mtWM"),w=o.n(Q),k=function(){function e(t,o){q()(this,e),this.message=t,this.loadingbar=o,this.ajax=w.a,this.array=new x}return b()(e,[{key:"initialize",value:function(){var e=this;this.ajax.interceptors.request.use(function(t){return e.loadingbar.start(),t},function(t){return e.loadingbar.error(),f.a.reject(t)}),this.ajax.interceptors.response.use(function(t){console.log(t);var o=/Msg[\s|\S]*[-]*.*IsPower/;return o.test(t.data)&&e.message.error({content:t.data.match(o)[0].replace("Msg:","").replace(",IsPower",""),duration:10,closable:!0}),e.loadingbar.finish(),t},function(t){e.loadingbar.error(),e.message.error({content:h()(t.response.data),duration:10,closable:!0})})}},{key:"setTitile",value:function(e){e=e||"活动配置",window.document.title=e}},{key:"getAxiosInstance",value:function(){return w.a.create()}},{key:"deepCopy",value:function(e){return JSON.parse(h()(e))}}]),e}(),x=function(){function e(){q()(this,e)}return b()(e,[{key:"select",value:function(e,t){var o=[];return e.forEach(function(e,i){o.push(t(e))}),o}}]),e}(),O=k,P=o("NYxO"),D={namespaced:!0,state:{menu:{menus:[],openedmenus:[],shrinked:[]},user:{name:"",permission:[]}},mutations:{init:function(e,t){console.log(t),e.menus=t}}},S={namespaced:!0,state:{name:"",permissions:[]},mutations:{logout:function(e){},init:function(e,t){e.name=t.name,e.permissions=t.permissions}}};i.default.use(P.a);var _=new P.a.Store({state:{},mutations:{},actions:{},modules:{app:D,user:S}}),T=[{key:"1",name:"价格配置",icon:"ios-speedometer",children:[{key:"seckillindex",name:"天天秒杀"}]},{key:"2",name:"世界杯竞猜游戏配置",children:[{key:"Question",name:"答题配置"},{key:"Prize",name:"兑换物配置"}]},{key:"3",name:"黑名单配置",icon:"ios-speedometer",children:[{key:"PintuanBlockList",name:"拼团黑名单配置"}]}];i.default.use(v.a),i.default.config.productionTip=!1,i.default.prototype.$Loading.config({color:"#2ca9e1",failedColor:"#c9171e",height:2});var N=new O(i.default.prototype.$Message,i.default.prototype.$Loading);N.initialize(),i.default.prototype.ajax=N.ajax,i.default.prototype.util=N,N.ajax.get("/auth/GetBasicInformantion").then(function(e){if(e.data.success){_.commit("user/init",e.data.user),_.commit("app/init",T);var t=o("YaEn").default;t.beforeEach(function(e,t,o){(N.loadingbar.start(),N.setTitile(e.meta.title),console.log("pat"+e.meta.authpath),e.meta.authpath)?N.getAxiosInstance().get("/auth/haspower?path="+e.meta.authpath).then(function(e){e.data.success&&e.data.result?o():o({path:"/403"})}).catch(function(e){console.log(e),N.loadingbar.error(),o({path:"/500"})}):o()}),t.afterEach(function(e){console.log("finish"),N.loadingbar.finish()}),new i.default({el:"#app",router:t,store:_,components:{App:m},template:"<App/>"})}else{var n=location.hostname.replace("yunying","yewu").replace("setting","yewu");window.location.href=location.protocol+"//"+n+"/Account/LogOn?ReturnUrl="+location.href}})},ROvl:function(e,t){},YaEn:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("7+uW"),n=o("/ocq"),a={data:function(){var e=this;return{columns:[{title:"场次",key:"Schedule",align:"center",render:function(e,t){return e("div",[e("span",{style:{align:"center"}},t.row.Schedule)])}},{title:"周一",key:"Day1",align:"center",render:function(t,o){var i=e.getclass(o.row.Day1.Status),n=e.getclass2(o.row.Day1.Status);return 1===o.row.Day1.Status?t("div",[t("Icon",{props:{type:"android-add"}}),t("strong",{on:{click:function(){e.toedit(o.row.Day1)}}},"新建")]):o.row.Day1.IsDefault?t("div",{style:n},[t("div",[t("span",{on:{click:function(){e.toedit(o.row.Day1)}}},o.row.Day1.StrStatus)]),t("div",[t("span","默认配置")])]):t("div",{style:i},[t("div",[t("span",{on:{click:function(){e.toedit(o.row.Day1)}}},o.row.Day1.StrStatus)]),t("div",[t("span",o.row.Day1.Count+"个产品")])])}},{title:"周二",key:"Day2",align:"center",render:function(t,o){var i=e.getclass(o.row.Day2.Status),n=e.getclass2(o.row.Day2.Status);return 1===o.row.Day2.Status?t("div",[t("Icon",{props:{type:"android-add"}}),t("strong",{on:{click:function(){e.toedit(o.row.Day2)}}},"新建")]):o.row.Day2.IsDefault?t("div",{style:n},[t("div",[t("span",{on:{click:function(){e.toedit(o.row.Day2)}}},o.row.Day2.StrStatus)]),t("div",[t("span","默认配置")])]):t("div",{style:i},[t("div",[t("span",{on:{click:function(){e.toedit(o.row.Day2)}}},o.row.Day2.StrStatus)]),t("div",[t("span",o.row.Day2.Count+"个产品")])])}},{title:"周三",key:"Day3",align:"center",render:function(t,o){var i=e.getclass(o.row.Day3.Status),n=e.getclass2(o.row.Day3.Status);return 1===o.row.Day3.Status?t("div",[t("Icon",{props:{type:"android-add"}}),t("strong",{on:{click:function(){e.toedit(o.row.Day3)}}},"新建")]):o.row.Day3.IsDefault?t("div",{style:n},[t("div",[t("span",{on:{click:function(){e.toedit(o.row.Day3)}}},o.row.Day3.StrStatus)]),t("div",[t("span","默认配置")])]):t("div",{style:i},[t("div",[t("span",{on:{click:function(){e.toedit(o.row.Day3)}}},o.row.Day3.StrStatus)]),t("div",[t("span",o.row.Day3.Count+"个产品")])])}},{title:"周四",key:"Day4",align:"center",render:function(t,o){var i=e.getclass(o.row.Day4.Status),n=e.getclass2(o.row.Day4.Status);return 1===o.row.Day4.Status?t("div",[t("Icon",{props:{type:"android-add"}}),t("strong",{on:{click:function(){e.toedit(o.row.Day4)}}},"新建")]):o.row.Day4.IsDefault?t("div",{style:n},[t("div",[t("span",{on:{click:function(){e.toedit(o.row.Day4)}}},o.row.Day4.StrStatus)]),t("div",[t("span","默认配置")])]):t("div",{style:i},[t("div",[t("span",{on:{click:function(){e.toedit(o.row.Day4)}}},o.row.Day4.StrStatus)]),t("div",[t("span",o.row.Day4.Count+"个产品")])])}},{title:"周五",key:"Day5",align:"center",render:function(t,o){var i=e.getclass(o.row.Day5.Status),n=e.getclass2(o.row.Day5.Status);return 1===o.row.Day5.Status?t("div",[t("Icon",{props:{type:"android-add"}}),t("strong",{on:{click:function(){e.toedit(o.row.Day5)}}},"新建")]):o.row.Day5.IsDefault?t("div",{style:n},[t("div",[t("span",{on:{click:function(){e.toedit(o.row.Day5)}}},o.row.Day5.StrStatus)]),t("div",[t("span","默认配置")])]):t("div",{style:i},[t("div",[t("span",{on:{click:function(){e.toedit(o.row.Day5)}}},o.row.Day5.StrStatus)]),t("div",[t("span",o.row.Day5.Count+"个产品")])])}},{title:"周六",key:"Day6",align:"center",render:function(t,o){var i=e.getclass(o.row.Day6.Status),n=e.getclass2(o.row.Day6.Status);return 1===o.row.Day6.Status?t("div",[t("Icon",{props:{type:"android-add"}}),t("strong",{on:{click:function(){e.toedit(o.row.Day6)}}},"新建")]):o.row.Day6.IsDefault?t("div",{style:n},[t("div",[t("span",{on:{click:function(){e.toedit(o.row.Day6)}}},o.row.Day6.StrStatus)]),t("div",[t("span","默认配置")])]):t("div",{style:i},[t("div",[t("span",{on:{click:function(){e.toedit(o.row.Day6)}}},o.row.Day6.StrStatus)]),t("div",[t("span",o.row.Day6.Count+"个产品")])])}},{title:"周日",key:"Day7",align:"center",render:function(t,o){var i=e.getclass(o.row.Day7.Status),n=e.getclass2(o.row.Day7.Status);return 1===o.row.Day7.Status?t("div",[t("Icon",{props:{type:"android-add"}}),t("strong",{on:{click:function(){e.toedit(o.row.Day7)}}},"新建")]):o.row.Day7.IsDefault?t("div",{style:n},[t("div",[t("span",{on:{click:function(){e.toedit(o.row.Day7)}}},o.row.Day7.StrStatus)]),t("div",[t("span","默认配置")])]):t("div",{style:i},[t("div",[t("span",{on:{click:function(){e.toedit(o.row.Day7)}}},o.row.Day7.StrStatus)]),t("div",[t("span",o.row.Day7.Count+"个产品")])])}},{title:"默认配置",key:"Default",align:"center",render:function(t,o){var i=e.getclass(o.row.Default.Status);return 1===o.row.Default.Status?t("div",[t("Icon",{props:{type:"android-add"}}),t("strong",{on:{click:function(){e.toedit(o.row.Default)}}},"新建")]):t("div",{style:i},[t("div",[t("span",{on:{click:function(){e.toedit(o.row.Default)}}},o.row.Default.StrStatus)]),t("div",[t("span",o.row.Default.Count+"个产品")])])}}],data:[],loading:!0,page:{total:5,current:1,pageSize:5},dt:new Date,FooterDay:"",options1:{shortcuts:[{text:"Today",value:function(){return new Date},onClick:function(t){e.$Message.info("Click today")}},{text:"Yesterday",value:function(){var e=new Date;return e.setTime(e.getTime()-864e5),e},onClick:function(t){e.$Message.info("Click yesterday")}},{text:"One week",value:function(){var e=new Date;return e.setTime(e.getTime()-6048e5),e},onClick:function(t){e.$Message.info("Click a week ago")}}]}}},created:function(){this.loadData()},methods:{search:function(){this.loadData()},loadData:function(){var e=this,t={dt:this.dt.toString()};this.ajax.get("/Seckill/GetSeckillList",{params:t}).then(function(t){e.data=t.data.result,e.FooterDay=t.data.FooterDay,e.loading=!1})},toedit:function(e){var t=this.$router.resolve({name:"seckillEdit",query:{activityId:e.ActivityId,schedule:e.Schedule,shortDate:e.ShortDate,isDefault:e.IsDefault,strStatus:e.StrStatus}});window.open(t.href,"_blank")},getclass:function(e){switch(e){case 1:return{"background-color":"white",color:"black","text-align":"center","line-height":"45px"};case 2:return{"background-color":"white",color:"red","text-align":"center","line-height":"45px"};case 3:return{"background-color":"#00FA9A",color:"black","text-align":"center","line-height":"45px"};case 4:return{"background-color":"yellow",color:"red","text-align":"center","line-height":"45px"};case 5:return{"background-color":"#00FA9A",color:"black","font-weight":"bold","text-align":"center","line-height":"45px"};case 6:return{"background-color":"#cccccc",color:"black","text-align":"center","line-height":"45px"}}},getclass2:function(e){switch(e){case 5:return{"background-color":"#00FA9A",color:"red","text-align":"center","line-height":"45px"};case 6:return{"background-color":"#cccccc",color:"red","text-align":"center","line-height":"45px"}}}}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[e._v("价格配置> 天天秒杀")]),e._v(" "),o("div",[o("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",options:e.options1,placeholder:"选择日期",format:"yyyy-MM-dd"},model:{value:e.dt,callback:function(t){e.dt=t},expression:"dt"}}),e._v(" "),o("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.search}},[e._v("筛选")])],1),e._v(" "),o("div",{staticStyle:{"margin-top":"18px"}},[o("Table",{attrs:{data:e.data,columns:e.columns,loading:e.loading,border:""}}),e._v(" "),o("div",{staticStyle:{"margin-left":"500px","margin-top":"10px",overflow:"hidden"}},[o("Tag",{attrs:{type:"border",color:"blue"}},[e._v(e._s(e.FooterDay))])],1)],1)])},staticRenderFns:[]};var l=o("VU/8")(a,s,!1,function(e){o("lMxS")},null,null).exports,r=o("mvHQ"),u=o.n(r),d={data:function(){var e=this;return{shortDate:"",schedule:"",strStatus:"",wrongMsg:[],disabled:!0,btndisabled:!1,loading:!0,errorcolumns:[{title:"PID",key:"PID",width:100},{title:"错误信息",key:"msgInfo",render:function(e,t){return e("span",{style:{color:"Red"},domProps:{innerHTML:t.row.msgInfo}},t.row.msgInfo)}}],columns:[{title:"PID",key:"PID",fixed:"left",width:180,render:function(t,o){return t("Input",{props:{type:"text",value:e.data[o.index].PID,readonly:e.disabled},on:{"on-blur":function(t){e.data[o.index].PID=t.target.value,e.PIDcheck2(o.index)}}})}},{title:"排序",key:"Position",render:function(t,o){return t("Input",{props:{value:o.row.Position,readOnly:e.disabled},on:{"on-blur":function(t){e.data[o.index].Position=t.target.value}}})}},{title:"秒杀标题",key:"ProductName",width:200,render:function(t,o){return t("Input",{props:{type:"text",value:o.row.ProductName,readonly:e.disabled},on:{"on-blur":function(t){e.data[o.index].ProductName=t.target.value}}})}},{title:"成本价",key:"CostPrice",align:"center"},{title:"产品价",key:"OriginalPrice",align:"center"},{title:"秒杀价",key:"Price",render:function(t,o){return t("Input",{props:{value:o.row.Price,readonly:e.disabled},on:{"on-blur":function(t){e.data[o.index].Price=t.target.value,e.checkPrice(o.index)}}})}},{title:"伪原价",key:"FalseOriginalPrice",render:function(t,o){return t("Input",{props:{value:o.row.FalseOriginalPrice,readonly:e.disabled},on:{"on-blur":function(t){e.data[o.index].FalseOriginalPrice=t.target.value}}})}},{title:"降价幅度",key:"DecreaseDegree",align:"center",render:function(t,o){return t("span",{style:e.getdegreecolor(o.index)},o.row.DecreaseDegree)}},{title:"每人限购",key:"MaxQuantity",render:function(t,o){return t("Input",{props:{value:o.row.MaxQuantity,readonly:e.disabled},on:{"on-blur":function(t){e.data[o.index].MaxQuantity=t.target.value}}})}},{title:"秒杀库存",key:"TotalQuantity",render:function(t,o){return t("Input",{props:{value:o.row.TotalQuantity,readonly:e.disabled},on:{"on-blur":function(t){e.data[o.index].TotalQuantity=t.target.value}}})}},{title:"优惠券",key:"IsUsePCode",render:function(t,o){return t("i-switch",{props:{type:"primary",size:"large",value:o.row.IsUsePCode,disabled:e.disabled},on:{"on-change":function(t){e.UpdateIsUsePCode(o.index,t)}}})}},{title:"显示",key:"IsShow",render:function(t,o){return t("i-switch",{props:{type:"primary",size:"large",value:o.row.IsShow,disabled:e.disabled},on:{"on-change":function(t){e.UpdateIsShow(o.index,t)}}})}},{title:"销量",key:"SaleOutQuantity",align:"center"},{title:"错误信息",key:"Error",render:function(e,t){return e("span",{style:{color:"Red"}},t.row.Error)}},{title:"操作",key:"action",fixed:"right",width:80,align:"center",render:function(t,o){return t("div",[t("Button",{props:{type:"error",size:"small",disabled:e.disabled},on:{click:function(){e.remove(o.index)}}},"删除")])}}],editInlineColumns:[{title:"PID",key:"PID",align:"center",render:function(t,o){return t("Input",{props:{value:o.row.PID},on:{input:function(t){e.editInlineData[o.index].PID=t,console.log(t)},"on-blur":function(){e.PIDcheck2(o.index)}}})}},{title:"排序",key:"Position",align:"center",editable:!0},{title:"秒杀标题",key:"ProductName",align:"center",editable:!0},{title:"图片",key:"ImageUrl",align:"center",render:function(e,t){return e("img",{domProps:{src:t.row.ImageUrl}})}},{title:"成本价",key:"CostPrice",render:function(e,t){return t.row.CostPrice}},{title:"产品价",key:"OriginalPrice",render:function(e,t){return t.row.OriginalPrice}},{title:"*秒杀价",key:"Price",align:"center",editable:!0},{title:"伪原价",key:"FalseOriginalPrice",align:"center",editable:!0},{title:"降价幅度",key:"DecreaseDegree",align:"center"},{title:"*每人限购",key:"MaxQuantity",align:"center",editable:!0},{title:"*秒杀库存",key:"TotalQuantity",align:"center",editable:!0},{title:"*优惠券",key:"IsUsePCode",align:"center",editable:!0},{title:"*显示",key:"IsShow",align:"center"},{title:"*销量",key:"SaleOutQuantity",align:"center"},{title:"操作",align:"center",width:200,key:"handle",handle:["edit","delete"]}],editInlineData:[],data:[],logmodal:{loading:!0,visible:!1,width:800,data:[],columns:[{title:"时间",width:200,key:"CreateDateTime",align:"center",fixed:"left",render:function(t,o){return t("span",e.formatDate(o.row.CreateDateTime))}},{title:"操作人",width:100,key:"Name",align:"center"},{title:"操作类型",width:150,key:"Title",align:"center",fixed:"left"},{title:"修改备注",width:300,key:"Remark",align:"center",fixed:"left",render:function(e,t){return e("span",{style:{color:"Red"},domProps:{innerHTML:t.row.Remark}},t.row.Remark)}}]},origiondata:[],modal:{visible:!1,width:500,title:"",editType:"",formValidate:{PID:"",Sort:"",ImageUrl:"",ProductName:"",CostPrice:"",OriginalPrice:"",Price:"",FalseOriginalPrice:"",DecreaseDegree:"",MaxQuantity:"",TotalQuantity:"",IsUsePCode:"",IsShow:"",SaleOutQuantity:""}}}},created:function(){this.loadEditData()},computed:{DecreaseDegree:function(){if(this.OriginalPrice.length&&this.Price.length)return(100*parseFloat(Math.abs(parseFloat(this.OriginalPrice)-parseFloat(this.Price))/parseFloat(this.OriginalPrice)).toFixed(2)).toString("0%")}},watch:{Price:function(e){this.OriginalPrice.length&&(this.DecreaseDegree=(100*parseFloat(Math.abs(parseFloat(this.OriginalPrice)-parseFloat(this.Price))/parseFloat(this.OriginalPrice)).toFixed(2)).toString("0%"))},OriginalPrice:function(e){this.Price.length&&(this.DecreaseDegree=(100*parseFloat(Math.abs(parseFloat(this.OriginalPrice)-parseFloat(this.Price))/parseFloat(this.OriginalPrice)).toFixed(2)).toString("0%"))}},methods:{loadEditData:function(){var e=this;if(this.activityId=this.$route.query.activityId,this.schedule=this.$route.query.schedule,this.shortDate=this.$route.query.shortDate,this.isDefault=this.$route.query.isDefault,this.strStatus=this.$route.query.strStatus,("新建"===this.strStatus||"已发布"===this.strStatus||"售卖中"===this.strStatus&&"false"===this.isDefault||"已驳回"===this.strStatus||"待审核"===this.strStatus)&&(this.disabled=!1,this.btndisabled="待审核"!==this.strStatus),"已结束"===this.strStatus&&(this.disabled=!0,this.btndisabled=!0),"售卖中"===this.strStatus&&(this.disabled="true"===this.isDefault,this.btndisabled=!0),this.data=[],null!=this.activityId){var t={activityId:this.activityId,isDefault:this.isDefault,strStatus:this.strStatus},o=this;this.ajax.get("/Seckill/GetEditDatasByActivityId",{params:t}).then(function(t){o.data=t.data,o.origiondata=JSON.parse(u()(t.data)),o.data.forEach(function(e,t,o){null===e.CostPrice&&(o[t].CostPrice="无")}),e.loading=!1})}else this.loading=!1},formatPrice:function(e){return"￥"+e},update:function(e){},getdegreecolor:function(e){return"无"!==this.data[e].CostPrice&&this.data[e].Price<this.data[e].CostPrice?{color:"red"}:{color:"black"}},remove:function(e){this.data.splice(e,1)},toGetLog:function(){var e=this;this.logmodal.loading=!0,this.ajax.post("/Seckill/GetLogList",{activityId:this.activityId}).then(function(t){e.logmodal.data=t.data,e.logmodal.visible=!0,e.logmodal.loading=!1})},handleBeforeUpload:function(){this.loading=!0},handleSuccess:function(e,t){var o=this;if(0===e.code)alert("导入失败!!");else if(-1===e.code)alert("请确定Excel中有数据(PID未填认为所在行无数据)");else if(e.error.length){var i="";e.error.forEach(function(e,t){i+=e+"\n"}),alert(i)}else e.data.length&&e.data.forEach(function(e,t){o.data.push({PID:e.PID,Position:e.Position,ImageUrl:"",ProductName:e.ProductName,CostPrice:"",OriginalPrice:"",Price:e.Price,FalseOriginalPrice:e.FalseOriginalPrice,DecreaseDegree:"",MaxQuantity:e.MaxQuantity,TotalQuantity:e.TotalQuantity,IsUsePCode:e.IsUsePCode,IsShow:e.IsShow,SaleOutQuantity:0,Channel:"all",IsJoinPlace:0,InstallService:e.InstallService,Error:""});var i="",n=0,a=0;o.data.forEach(function(t,o){t.PID===e.PID&&(n=o,a++)}),a>1?o.data[n].Error="产品配置重复了":(o.data[n].Error="",o.ajax.get("/Seckill/FetchProductWithCostPriceByPID",{params:{PID:o.data[n].PID,activityId:o.activityId}}).then(function(e){if(null===e.data.PID&&(i="无此产品编号"),e.data.CaseSensitive&&(i="请跟产品库配置大小写一致"),e.data.OnSale&&!e.data.Stockout||(i="此产品下架或缺货"),i.length&&(o.data[n].Error=i),!i.length){!o.data[n].ProductName.length>1&&(o.data[n].ProductName=e.data.DisplayName),o.data[n].InstallService=e.data.InstallService,o.data[n].ImageUrl=e.data.Image,o.data[n].CostPrice=null==e.data.CostPrice?"无":e.data.CostPrice,o.data[n].OriginalPrice=e.data.cy_list_price,!parseFloat(o.data[n].FalseOriginalPrice)>0&&(o.data[n].FalseOriginalPrice=e.data.cy_list_price),o.data[n].DecreaseDegree="";var t=o.data[n].Price,a=o.data[n].OriginalPrice;if(isNaN(t)&&(o.data[n].Error="秒杀价请输入正确的数字格式"),a>0){(parseFloat(t)<=0||parseFloat(t)>parseFloat(a))&&(o.data[n].Error+="秒杀价不能为0或者高于原价，请查看是否配置错误");var s=parseFloat(Math.abs(parseFloat(a)-parseFloat(t))/parseFloat(a)).toFixed(2);o.data[n].DecreaseDegree=o.toPercent(s)}}}))});o.loading=!1},updateValue:function(e){this.$emit("input",e)},toload:function(){window.location.href="/Content/QiangGou/ExportSeckillExcel.xlsx"},toupload:function(){},toCreate:function(){this.data.push({PID:"",Position:"",ImageUrl:"",ProductName:"",CostPrice:"",OriginalPrice:"",Price:"",FalseOriginalPrice:"",DecreaseDegree:"",MaxQuantity:"",TotalQuantity:"",IsUsePCode:!1,IsShow:!0,SaleOutQuantity:0,Channel:"all",IsJoinPlace:0,InstallService:"",Error:""})},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(o){o?(t.data.push(t.modal.formValidate),t.$refs[e].resetFields(),t.$Message.success("Success!")):t.$Message.error("Fail!")})},handleReset:function(e){this.$refs[e].resetFields()},fetchProductByPID:function(e,t){var o=this,i="";this.ajax.get("/Seckill/FetchProductByPID",{async:!1,params:{PID:e,activityId:""}}).then(function(e){null===e.data.PID&&(i="无此产品编号"),e.data.CaseSensitive&&(i="请跟产品库配置大小写一致"),(e.data.OnSale||e.data.Stockout)&&(i="此产品下架或缺货"),""===i&&(o.modal.formValidate.ProductName=e.data.DisplayName,o.modal.formValidate.ImageUrl=e.data.ImageUrl,o.modal.formValidate.CostPrice=100,o.modal.formValidate.OriginalPrice=e.data.cy_list_price),t(i)})},UpdateIsShow:function(e,t){this.data[e].IsShow=t},UpdateIsUsePCode:function(e,t){this.data[e].IsUsePCode=t},isInteger:function(e){return parseInt(e,10)===e},toSave:function(){var e=this,t=!1,o=this,i=0;if("已驳回"!==o.strStatus&&"待审核"!==o.strStatus||(t=!0),null===!o.activityId&&(t=!0),o.origiondata.length!==o.data.length&&(t=!0),t||(o.origiondata.forEach(function(e){o.data.forEach(function(t){e.PID===t.PID&&(i+=1,parseFloat(e.Price)>parseFloat(t.Price)&&(console.log("price"+i),i-=1),e.IsUsePCode!==t.IsUsePCode&&(console.log("isUsePCode"+i),i-=1))})}),i!==o.origiondata.length&&(t=!0),console.log(i)),o.wrongMsg=[],o.data.forEach(function(e,t){"无"===o.data[t].CostPrice&&(o.data[t].CostPrice=""),void 0!==e.Error&&""!==e.Error&&o.wrongMsg.push({PID:e.PID,msgInfo:e.Error})}),0===o.wrongMsg.length)if(o.data.length){if(o.data.forEach(function(e,t){console.log("i: ",t,e);var i="";if(null!=e.ProductName.trim()&&""!==e.ProductName.trim()||(i+="秒杀标题不能为空<br/>"),null!=e.Position&&e.Position.length&&parseInt(e.Position)!==parseFloat(e.Position)&&(i+="排序填写不规范<br/>"),e.Price.toString().length?isNaN(e.Price)?i+="秒杀价请输入正确的数字格式<br/>":(parseFloat(e.Price)<=0||parseFloat(e.Price)>parseFloat(e.OriginalPrice))&&(i+="秒杀价不能为0或者高于原价，请查看是否配置错误<br/>"):i+="秒杀价不允许为空<br/>",e.FalseOriginalPrice.toString().length?isNaN(e.FalseOriginalPrice)?i+="伪原价请输入正确的数字格式<br/>":(parseFloat(e.FalseOriginalPrice)<=0||parseFloat(e.FalseOriginalPrice)<parseFloat(e.Price))&&(i+="伪原价不能为0或者低于产品价，请查看是否配置错误<br/>"):i+="伪原价不允许为空<br/>",e.MaxQuantity.length&&parseInt(e.MaxQuantity)!==parseFloat(e.MaxQuantity)&&(i+="个人限购数量请输入正确的数字格式<br/>"),e.TotalQuantity.toString().length||(i+="秒杀库存不允许为空<br/>"),e.TotalQuantity.length&&parseInt(e.TotalQuantity)!==parseFloat(e.TotalQuantity)&&(i+="秒杀库存请输入正确的数字格式<br/>"),parseInt(e.TotalQuantity)<parseInt(e.MaxQuantity)&&(i+="每人限购的数量高于秒杀库存，请确认<br/>"),i.length)return o.wrongMsg.push({PID:e.PID,msgInfo:i}),!1}),0===o.wrongMsg.length){var n={ActivityID:this.activityId,ActivityName:this.schedule,IsDefault:this.isDefault,ShortDate:this.shortDate,NeedExam:t,strStatus:this.strStatus};this.ajax.post("/Seckill/Save",{strModel:u()(n),products:u()(o.data),originProducts:u()(o.origiondata)}).then(function(t){1===t.data.Status?(e.$Message.success(t.data.Message),e.$router.push({name:"seckillindex"})):e.$Message.error(t.data.Message)})}}else o.wrongMsg.push({PID:"",msgInfo:"请添加商品"})},toApprovePass:function(){var e=this;this.ajax.post("/Seckill/ExamActivity",{aid:this.activityId}).then(function(t){1===t.data.code?(e.$Message.success("审核成功"),e.$router.push({name:"seckillindex"})):e.$Message.error("审核失败")})},toApproveBack:function(){var e=this;this.ajax.post("/Seckill/ApproveBack",{aid:this.activityId}).then(function(t){1===t.data.code?(e.$Message.success("驳回成功"),e.$router.push({name:"seckillindex"})):e.$Message.error("驳回失败")})},toPercent:function(e){var t=Number(100*e).toFixed(2);return t+="%"},toRefresh:function(){var e=this;this.ajax.post("/Seckill/RefreshCache",{activityId:this.activityId}).then(function(t){"1"===t.data.code?e.$Message.success(t.data.msg):e.$Message.error(t.data.msg)})},checkPrice:function(e){this.data[e].Error="",this.data[e].DecreaseDegree="";var t=this.data[e].Price,o=this.data[e].OriginalPrice;if(isNaN(t)&&(this.data[e].Error="秒杀价请输入正确的数字格式"),o>0){(parseFloat(t)<=0||parseFloat(t)>parseFloat(o))&&(this.data[e].Error="秒杀价不能为0或者高于原价，请查看是否配置错误");var i=parseFloat(Math.abs(parseFloat(o)-parseFloat(t))/parseFloat(o)).toFixed(2);this.data[e].DecreaseDegree=this.toPercent(i)}},checkoriginPrice:function(e){this.data[e].Error="",this.data[e].DecreaseDegree="";var t=this.data[e].Price,o=this.data[e].OriginalPrice;isNaN(o)&&(this.data[e].Error="秒杀价请输入正确的数字格式"),t.length&&((parseFloat(t)<=0||parseFloat(t)>parseFloat(o))&&(this.data[e].Error="秒杀价不能为0或者高于原价，请查看是否配置错误"),this.data[e].DecreaseDegree=parseFloat(Math.abs(parseFloat(o)-parseFloat(t))/parseFloat(o)).toFixed(2).toString("0%"))},PIDcheck2:function(e){var t="",o=this;o.data[e].Error="";var i=0,n=o.data[e].PID;o.data.forEach(function(e,t){e.PID===n&&i++}),i>1?o.data[e].Error="产品配置重复了":this.ajax.get("/Seckill/FetchProductWithCostPriceByPID",{params:{PID:o.data[e].PID,activityId:o.activityId}}).then(function(i){null===i.data.PID&&(t="无此产品编号"),i.data.CaseSensitive&&(t="请跟产品库配置大小写一致"),i.data.OnSale&&!i.data.Stockout||(t="此产品下架或缺货"),t.length?o.data[e].Error=t:(o.data[e].InstallService=i.data.InstallService,o.data[e].ProductName.length>1||(o.data[e].ProductName=i.data.DisplayName),o.data[e].CostPrice.length>1||(o.data[e].CostPrice=null==i.data.CostPrice?"无":i.data.CostPrice),o.data[e].OriginalPrice.length>1||(o.data[e].OriginalPrice=i.data.cy_list_price),console.log(o.data[e].CostPrice),console.log(o.data[e].OriginalPrice),o.data[e].FalseOriginalPrice.length>1||(o.data[e].FalseOriginalPrice=i.data.cy_list_price))})},handleNetConnect:function(e){this.breakConnect=e},handleLowSpeed:function(e){this.lowNetSpeed=e},getCurrentData:function(){this.showCurrentTableData=!0},handleDel:function(e,t){this.$Message.success("删除了第"+(t+1)+"行数据")},handleCellChange:function(e,t,o){this.$Message.success("修改了第 "+(t+1)+" 行列名为 "+o+" 的数据")},handleChange:function(e,t){this.$Message.success("修改了第"+(t+1)+"行数据")},formatDate:function(e){if(null==e)return null;var t=new Date(parseInt(e.replace("/Date(","").replace(")/",""))),o=t.getFullYear(),i=t.getDate();return o+"-"+(t.getMonth()+1)+"-"+i+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}}},c={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Breadcrumb",{attrs:{separator:">"}},[o("BreadcrumbItem",[e._v("价格配置")]),e._v(" "),o("BreadcrumbItem",{attrs:{to:"/"}},[e._v("天天秒杀")]),e._v(" "),o("BreadcrumbItem",[e._v(e._s(e.shortDate)+"-"+e._s(e.schedule))]),e._v(" "),o("BreadcrumbItem",[e._v(e._s(e.strStatus))])],1),e._v(" "),o("div",{staticStyle:{margin:"10px"},attrs:{align:"left"}},[o("Table",{directives:[{name:"show",rawName:"v-show",value:e.wrongMsg.length>0,expression:"wrongMsg.length>0"}],attrs:{border:"",columns:e.errorcolumns,data:e.wrongMsg}})],1),e._v(" "),o("div",{staticStyle:{margin:"10px"},attrs:{align:"right"}},[o("Button",{staticStyle:{margin:"5px"},attrs:{type:"primary",shape:"circle",disabled:e.disabled,icon:"plus-round"},on:{click:e.toCreate}},[e._v("添加")]),e._v(" "),o("Button",{staticStyle:{margin:"5px"},attrs:{type:"primary",shape:"circle",icon:"refresh"},on:{click:e.toRefresh}},[e._v("刷新缓存")]),e._v(" "),o("Button",{staticStyle:{margin:"5px"},attrs:{type:"primary",shape:"circle",icon:"ios-search"},on:{click:e.toGetLog}},[e._v("查看日志")]),e._v(" "),o("a",{attrs:{type:"primary",shape:"circle",disabled:e.disabled,icon:"arrow-down-c"},on:{click:e.toload}},[e._v("导入模板下载")]),e._v(" "),o("Upload",{attrs:{action:"/Seckill/ExportProducts/","before-upload":e.handleBeforeUpload,"on-success":e.handleSuccess}},[o("Button",{attrs:{type:"primary",disabled:e.disabled,shape:"circle",padding:"5px",icon:"ios-cloud-upload-outline"}},[e._v("上传文件")])],1)],1),e._v(" "),o("div",{staticStyle:{margin:"10px"},attrs:{align:"left"}}),e._v(" "),o("div",{staticStyle:{margin:"10px"}},[o("Table",{attrs:{border:"",columns:e.columns,loading:e.loading,data:e.data}})],1),e._v(" "),o("div",{staticStyle:{margin:"10px"},attrs:{align:"right"}},[o("Button",{attrs:{type:"primary",shape:"circle",disabled:e.disabled},on:{click:e.toSave}},[e._v("保存提交")]),e._v(" "),o("Button",{attrs:{type:"ghost",shape:"circle",disabled:e.btndisabled},on:{click:e.toApprovePass}},[e._v("审核通过")]),e._v(" "),o("Button",{attrs:{type:"ghost",shape:"circle",disabled:e.btndisabled},on:{click:e.toApproveBack}},[e._v("审核驳回")])],1),e._v(" "),o("Modal",{attrs:{title:"操作日志",width:e.logmodal.width},model:{value:e.logmodal.visible,callback:function(t){e.$set(e.logmodal,"visible",t)},expression:"logmodal.visible"}},[o("Table",{attrs:{loading:e.logmodal.loading,data:e.logmodal.data,columns:e.logmodal.columns,stripe:""}})],1)],1)},staticRenderFns:[]};var m=o("VU/8")(d,c,!1,function(e){o("H9rC")},null,null).exports,p={data:function(){var e=this;return{index:0,isAdd:1,page:{total:0,current:1,pageSize:10},logpage:{total:0,current:1,pageSize:5},filters:{endTime:"",QuestionConfirm:-1},tablemodel:{loading:!0,visible:!1,width:1355,data:[]},logmodal:{loading:!0,visible:!1,width:635,data:[],columns:[{title:"操作内容",width:300,key:"Remark",align:"center",fixed:"left"},{title:"操作人",width:150,key:"Creator",align:"center",fixed:"left"},{title:"时间",width:150,key:"CreateDateTime",render:function(t,o){return t("span",e.formatDate(o.row.CreateDateTime))}}]},deleteModal:{visible:!1,loading:!0,endTime:""},releaseModal:{visible:!1,loading:!0,endTime:""},table:{loading:!0,data:[],columns:[{title:"#",width:50,align:"center",fixed:"left",type:"index",key:"PKID"},{title:"题目名称",align:"center",key:"QuestionTitle"},{title:"竞猜结果",align:"center",key:"QuestionConfirm",render:function(t,o){return t("span",e.ConvertValue(o.row.QuestionConfirm))}},{title:"题目上线日期",align:"center",key:"StartTime"},{title:"题目下线日期",align:"center",key:"EndTime",render:function(t,o){return t("span",e.formatDate(o.row.EndTime))}},{title:"是否删除",align:"center",key:"IsDeleted",render:function(t,o){return t("span",e.ConvertBoolValue(o.row.IsDeleted))}},{title:"题目操作",key:"action",align:"center",width:200,render:function(t,o){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.QueryQuestionWithOption(o.row.EndTime,o.row.IsDeleted,"Search")}}},"查看"),t("Button",{props:{type:"primary",size:"small",disabled:new Date(o.row.StartTime)<new Date||o.row.IsDeleted},style:{marginRight:"5px"},on:{click:function(){new Date(o.row.StartTime)<new Date?e.$Message.warning("当前题目已上线，不支持修改"):e.searchQuestionWithOption(o.row.EndTime,"Update")}}},"修改"),t("Button",{props:{type:"primary",size:"small",disabled:new Date(o.row.StartTime)<new Date||o.row.IsDeleted},on:{click:function(){new Date(o.row.StartTime)<new Date?(e.$Message.warning({content:"当前题目已上线，不支持删除",duration:3}),e.deleteModal.visible=!1):(e.deleteModal.visible=!0,e.deleteModal.endTime=o.row.EndTime)}}},"删除")])}},{title:"答案操作",width:300,align:"center",render:function(t,o){return t("div",[t("Button",{props:{type:"primary",size:"small",disabled:2===o.row.QuestionConfirm||o.row.IsDeleted},style:{marginRight:"5px"},on:{click:function(){e.search(o.row.EndTime,"Search")}}},"编辑答案"),t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.searchquerymodel(o.row.EndTime,"Search")}}},"查看答案"),t("Button",{props:{type:"primary",size:"small",disabled:!(1===o.row.QuestionConfirm)||o.row.IsDeleted},style:{marginRight:"5px"},on:{click:function(){e.releaseModal.visible=!0,e.releaseModal.endTime=o.row.EndTime}}},"公布答案")])}},{title:"日志查看",align:"center",render:function(t,o){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.SearchLog(o.row.PKID,"Search")}}},"查看日志")])}}]},gameStatusList:[{label:"未添加答案",value:0},{label:"已添加答案",value:1},{label:"已公布",value:2},{label:"所有状态",value:-1}],modal:{visible:!1,loading:!0,disableedit:!0,QuestionAnswer1:{PKID:0,QuestionTitle:"",StartTime:"",EndTime:"",QuestionTextResult:"",AnswerYes:0,AnswerNo:0,QuestionConfirm:0,DeadLineTime:""},QuestionAnswer2:{PKID:0,QuestionTitle:"",StartTime:"",EndTime:"",QuestionTextResult:"",AnswerYes:0,AnswerNo:0,QuestionConfirm:0,DeadLineTime:""},QuestionAnswer3:{PKID:0,QuestionTitle:"",StartTime:"",EndTime:"",QuestionTextResult:"",AnswerYes:0,AnswerNo:0,QuestionConfirm:0,DeadLineTime:""}},querymodal:{visible:!1,loading:!0,disableedit:!0,QuestionAnswer1:{PKID:0,QuestionTitle:"",StartTime:"",EndTime:"",QuestionTextResult:"",AnswerYes:0,AnswerNo:0,QuestionConfirm:0,DeadLineTime:""},QuestionAnswer2:{PKID:0,QuestionTitle:"",StartTime:"",EndTime:"",QuestionTextResult:"",AnswerYes:0,AnswerNo:0,QuestionConfirm:0,DeadLineTime:""},QuestionAnswer3:{PKID:0,QuestionTitle:"",StartTime:"",EndTime:"",QuestionTextResult:"",AnswerYes:0,AnswerNo:0,QuestionConfirm:0,DeadLineTime:""}},questionmodal:{visible:!1,loading:!0,disableedit:!0,Question1:{PKID:0,QuestionTitle:"",StartTime:"",EndTime:"",DeadLineTime:"",YesOptionAPKID:0,YesOptionAUseIntegral:0,YesOptionAWinCouponCount:0,YesOptionBPKID:0,YesOptionBUseIntegral:0,YesOptionBWinCouponCount:0,YesOptionCPKID:0,YesOptionCUseIntegral:0,YesOptionCWinCouponCount:0,NoOptionAPKID:0,NoOptionAUseIntegral:0,NoOptionAWinCouponCount:0,NoOptionBPKID:0,NoOptionBUseIntegral:0,NoOptionBWinCouponCount:0,NoOptionCPKID:0,NoOptionCUseIntegral:0,NoOptionCWinCouponCount:0},Question2:{PKID:0,QuestionTitle:"",StartTime:"",EndTime:"",DeadLineTime:"",YesOptionAPKID:0,YesOptionAUseIntegral:0,YesOptionAWinCouponCount:0,YesOptionBPKID:0,YesOptionBUseIntegral:0,YesOptionBWinCouponCount:0,YesOptionCPKID:0,YesOptionCUseIntegral:0,YesOptionCWinCouponCount:0,NoOptionAPKID:0,NoOptionAUseIntegral:0,NoOptionAWinCouponCount:0,NoOptionBPKID:0,NoOptionBUseIntegral:0,NoOptionBWinCouponCount:0,NoOptionCPKID:0,NoOptionCUseIntegral:0,NoOptionCWinCouponCount:0},Question3:{PKID:0,QuestionTitle:"",StartTime:"",EndTime:"",DeadLineTime:"",YesOptionAPKID:0,YesOptionAUseIntegral:0,YesOptionAWinCouponCount:0,YesOptionBPKID:0,YesOptionBUseIntegral:0,YesOptionBWinCouponCount:0,YesOptionCPKID:0,YesOptionCUseIntegral:0,YesOptionCWinCouponCount:0,NoOptionAPKID:0,NoOptionAUseIntegral:0,NoOptionAWinCouponCount:0,NoOptionBPKID:0,NoOptionBUseIntegral:0,NoOptionBWinCouponCount:0,NoOptionCPKID:0,NoOptionCUseIntegral:0,NoOptionCWinCouponCount:0}},queryquestionmodal:{visible:!1,loading:!0,disableedit:!0,Question1:{PKID:0,QuestionTitle:"",StartTime:"",EndTime:"",DeadLineTime:"",YesOptionAPKID:0,YesOptionAUseIntegral:0,YesOptionAWinCouponCount:0,YesOptionBPKID:0,YesOptionBUseIntegral:0,YesOptionBWinCouponCount:0,YesOptionCPKID:0,YesOptionCUseIntegral:0,YesOptionCWinCouponCount:0,NoOptionAPKID:0,NoOptionAUseIntegral:0,NoOptionAWinCouponCount:0,NoOptionBPKID:0,NoOptionBUseIntegral:0,NoOptionBWinCouponCount:0,NoOptionCPKID:0,NoOptionCUseIntegral:0,NoOptionCWinCouponCount:0},Question2:{PKID:0,QuestionTitle:"",StartTime:"",EndTime:"",DeadLineTime:"",YesOptionAPKID:0,YesOptionAUseIntegral:0,YesOptionAWinCouponCount:0,YesOptionBPKID:0,YesOptionBUseIntegral:0,YesOptionBWinCouponCount:0,YesOptionCPKID:0,YesOptionCUseIntegral:0,YesOptionCWinCouponCount:0,NoOptionAPKID:0,NoOptionAUseIntegral:0,NoOptionAWinCouponCount:0,NoOptionBPKID:0,NoOptionBUseIntegral:0,NoOptionBWinCouponCount:0,NoOptionCPKID:0,NoOptionCUseIntegral:0,NoOptionCWinCouponCount:0},Question3:{PKID:0,QuestionTitle:"",StartTime:"",EndTime:"",DeadLineTime:"",YesOptionAPKID:0,YesOptionAUseIntegral:0,YesOptionAWinCouponCount:0,YesOptionBPKID:0,YesOptionBUseIntegral:0,YesOptionBWinCouponCount:0,YesOptionCPKID:0,YesOptionCUseIntegral:0,YesOptionCWinCouponCount:0,NoOptionAPKID:0,NoOptionAUseIntegral:0,NoOptionAWinCouponCount:0,NoOptionBPKID:0,NoOptionBUseIntegral:0,NoOptionBWinCouponCount:0,NoOptionCPKID:0,NoOptionCUseIntegral:0,NoOptionCWinCouponCount:0}}}},created:function(){this.$Message.config({top:50,duration:3}),this.loadData(1)},methods:{loadData:function(e){var t=this;this.page.current=e,this.table.loading=!0;var o="?endTime="+this.formatDate(this.filters.endTime);o+="&QuestionConfirm="+this.filters.QuestionConfirm,o+="&pageIndex="+this.page.current,o+="&pageSize="+this.page.pageSize,this.ajax.get("/GuessGame/GetQuestionList"+o).then(function(e){var o=e.data;t.page.total=o.totalCount,t.table.data=o.data,t.table.loading=!1})},search:function(e){var t=this;e&&(new Date(this.formatDate(e))<new Date?this.modal.disableedit=!0:this.modal.disableedit=!1,this.ajax.get("/GuessGame/GetQuestionAnswerList?endTime="+this.formatDate(e)).then(function(e){console.log(e.data),console.log(e.data.data[0]),console.log(e.data.data[1]),e.data.data[0]&&(t.modal.QuestionAnswer1=e.data.data[0],t.modal.visible=!0),e.data.data[1]&&(t.modal.QuestionAnswer2=e.data.data[1],t.modal.visible=!0),e.data.data[2]&&(t.modal.QuestionAnswer3=e.data.data[2],t.modal.visible=!0)}))},RefreshQuestionCache:function(){var e=this;this.ajax.get("/GuessGame/RefreshQuestion").then(function(t){console.log(t),t.data?e.$Message.error("刷新缓存失败"):(e.$Message.success("刷新缓存成功"),e.loadData(e.page.current))})},searchquerymodel:function(e){var t=this;this.ajax.get("/GuessGame/GetQuestionAnswerList?endTime="+this.formatDate(e)).then(function(e){e.data.data[0]&&(t.querymodal.QuestionAnswer1=e.data.data[0],t.querymodal.visible=!0,console.log(t.querymodal.QuestionAnswer1)),e.data.data[1]&&(t.querymodal.QuestionAnswer2=e.data.data[1],t.querymodal.visible=!0),e.data.data[2]&&(t.querymodal.QuestionAnswer3=e.data.data[2],t.querymodal.visible=!0)})},deleteok:function(){var e=this;this.deleteModal.loading=!0,this.ajax.get("/GuessGame/DeleteQuestionWithOptionList?endTime="+this.formatDate(this.deleteModal.endTime)).then(function(t){console.log(t),t.data?(console.log(e.deleteModal),e.$Message.error("删除失败"),e.deleteModal.loading=!1,e.$nextTick(function(){e.deleteModal.loading=!0})):(e.$Message.success("删除成功"),e.loadData(e.page.current),e.deleteModal.loading=!1,e.deleteModal.visible=!1,e.$nextTick(function(){e.deleteModal.loading=!0}))})},releaseok:function(){var e=this;this.deleteModal.loading=!0,this.ajax.get("/GuessGame/ReleaseQuestionList?endTime="+this.releaseModal.endTime).then(function(t){t.data?(e.$Message.error("公布答案失败"),e.releaseModal.loading=!1,e.$nextTick(function(){e.releaseModal.loading=!0})):(e.$Message.success("公布答案成功"),e.loadData(e.page.current),e.releaseModal.loading=!1,e.releaseModal.visible=!1,e.$nextTick(function(){e.releaseModal.loading=!0}))})},searchQuestionWithOption:function(e){var t=this,o="";if(e){var i=this;new Date(this.formatDate(e))<new Date?(i.$Message.warning("当前题目已上线，不支持修改"),i.questionmodal.visible=!1):this.ajax.get("/GuessGame/GetQuestionWithOptionList?endTime="+this.formatDate(e)).then(function(e){e.data.data[0]&&(i.questionmodal.Question1=e.data.data[0],i.questionmodal.visible=!0),e.data.data[1]&&(i.questionmodal.Question2=e.data.data[1],i.questionmodal.visible=!0),e.data.data[2]&&(i.questionmodal.Question3=e.data.data[2],i.questionmodal.visible=!0)})}else this.questionmodal.visible=!0,this.ajax.get("/GuessGame/GetLastestQustion").then(function(e){console.log(1),console.log(e),o=e.data,console.log(o),t.questionmodal.Question1={PKID:0,QuestionTitle:"",StartTime:o,EndTime:"",DeadLineTime:"",YesOptionAPKID:0,YesOptionAUseIntegral:10,YesOptionAWinCouponCount:1,YesOptionBPKID:0,YesOptionBUseIntegral:20,YesOptionBWinCouponCount:2,YesOptionCPKID:0,YesOptionCUseIntegral:30,YesOptionCWinCouponCount:3,NoOptionAPKID:0,NoOptionAUseIntegral:10,NoOptionAWinCouponCount:1,NoOptionBPKID:0,NoOptionBUseIntegral:20,NoOptionBWinCouponCount:2,NoOptionCPKID:0,NoOptionCUseIntegral:30,NoOptionCWinCouponCount:3},t.questionmodal.Question2={PKID:0,QuestionTitle:"",StartTime:"",EndTime:"",DeadLineTime:"",YesOptionAPKID:0,YesOptionAUseIntegral:10,YesOptionAWinCouponCount:1,YesOptionBPKID:0,YesOptionBUseIntegral:20,YesOptionBWinCouponCount:2,YesOptionCPKID:0,YesOptionCUseIntegral:30,YesOptionCWinCouponCount:3,NoOptionAPKID:0,NoOptionAUseIntegral:10,NoOptionAWinCouponCount:1,NoOptionBPKID:0,NoOptionBUseIntegral:20,NoOptionBWinCouponCount:2,NoOptionCPKID:0,NoOptionCUseIntegral:30,NoOptionCWinCouponCount:3},t.questionmodal.Question3={PKID:0,QuestionTitle:"",StartTime:"",EndTime:"",DeadLineTime:"",YesOptionAPKID:0,YesOptionAUseIntegral:10,YesOptionAWinCouponCount:1,YesOptionBPKID:0,YesOptionBUseIntegral:20,YesOptionBWinCouponCount:2,YesOptionCPKID:0,YesOptionCUseIntegral:30,YesOptionCWinCouponCount:3,NoOptionAPKID:0,NoOptionAUseIntegral:10,NoOptionAWinCouponCount:1,NoOptionBPKID:0,NoOptionBUseIntegral:20,NoOptionBWinCouponCount:2,NoOptionCPKID:0,NoOptionCUseIntegral:30,NoOptionCWinCouponCount:3},console.log(t.questionmodal.Question1.StartTime)})},SearchLog:function(e){var t=this;this.logmodal.loading=!0,this.ajax.post("/CommonConfigLog/GetCommonConfigLogs",{objectType:"WorldCupConfig",objectId:e}).then(function(e){e.data?t.logmodal.data=e.data:t.logmodal.data=[],t.logmodal.visible=!0,t.logmodal.loading=!1})},ReleaseQuestion:function(){var e=this;if(!(e.modal.QuestionAnswer1.QuestionTitle&&e.modal.QuestionAnswer1.QuestionTextResult&&e.modal.QuestionAnswer2.QuestionTitle&&e.modal.QuestionAnswer2.QuestionTextResult&&e.modal.QuestionAnswer3.QuestionTitle&&e.modal.QuestionAnswer3.QuestionTextResult))return e.$Message.warning("三题标题内容和竞猜结果不允许为空"),e.$nextTick(function(){e.modal.loading=!0}),void(e.modal.loading=!1);e.releaseModal.visible=!0,e.releaseModal.endTime=e.modal.QuestionAnswer1.EndTime},FetchCouponInfo:function(e,t){var o=this;e&&o.ajax.post("/GroupBuyingV2/FetchCouponInfo",{couponId:e}).then(function(e){e.data?(o.modal.productConfig.Coupons[t].AvailablePeriod=e.data.AvailablePeriod,o.modal.productConfig.Coupons[t].CouponDescription=e.data.CouponDescription,o.modal.productConfig.Coupons[t].CouponId=e.data.CouponId,o.modal.productConfig.Coupons[t].CouponLeastPrice=e.data.CouponLeastPrice,o.modal.productConfig.Coupons[t].CouponName=e.data.CouponName,o.modal.productConfig.Coupons[t].CouponPrice=e.data.CouponPrice):o.$Message.warning("优惠券 PID 无效")})},SaveQuestionConfig:function(){var e=this;if(!(e.modal.QuestionAnswer1.QuestionTitle&&e.modal.QuestionAnswer1.QuestionTextResult&&e.modal.QuestionAnswer2.QuestionTitle&&e.modal.QuestionAnswer2.QuestionTextResult&&e.modal.QuestionAnswer3.QuestionTitle&&e.modal.QuestionAnswer3.QuestionTextResult))return e.$Message.warning("三题标题内容和竞猜结果不允许为空"),e.$nextTick(function(){e.modal.loading=!0}),void(e.modal.loading=!1);e.modal.loading=!0,e.ajax.post("/GuessGame/UpdateQuestionList",{question1:e.modal.QuestionAnswer1,question2:e.modal.QuestionAnswer2,question3:e.modal.QuestionAnswer3}).then(function(t){t.data?(e.$Message.error(t.data),e.$nextTick(function(){e.modal.loading=!0})):(e.$Message.success("操作成功"),e.modal.visible=!1,e.loadData(e.page.current)),e.modal.loading=!1})},SaveQuestionOptionConfig:function(){var e=this;return this.questionmodal.Question1.StartTime&&this.questionmodal.Question1.EndTime&&this.questionmodal.Question1.DeadLineTime?(this.questionmodal.Question1.StartTime=this.formatDate(this.questionmodal.Question1.StartTime).replace("00:00:00","11:00:00"),this.questionmodal.Question1.EndTime=this.formatDate(this.questionmodal.Question1.EndTime).replace("00:00:00","11:00:00"),this.questionmodal.Question1.DeadLineTime=this.formatDate(this.questionmodal.Question1.DeadLineTime),console.log(this.questionmodal.Question1.StartTime),console.log(this.questionmodal.Question1.EndTime),console.log(this.questionmodal.Question1.DeadLineTime),this.isLater(this.questionmodal.Question1.EndTime,this.questionmodal.Question1.StartTime)?(console.log(this.isLater(this.questionmodal.Question1.EndTime,this.questionmodal.Question1.DeadLineTime)),console.log(this.isLater(this.questionmodal.Question1.DeadLineTime,this.questionmodal.Question1.StartTime)),this.isLater(this.questionmodal.Question1.EndTime,this.questionmodal.Question1.DeadLineTime)&&this.isLater(this.questionmodal.Question1.DeadLineTime,this.questionmodal.Question1.StartTime)?this.questionmodal.Question1.QuestionTitle?(console.log(!isNaN(this.questionmodal.Question1.YesOptionAUseIntegral)),console.log(this.questionmodal.Question1.YesOptionAUseIntegral<=0),isNaN(this.questionmodal.Question1.YesOptionAUseIntegral)||this.questionmodal.Question1.YesOptionAUseIntegral<=0||isNaN(this.questionmodal.Question1.YesOptionAWinCouponCount)||this.questionmodal.Question1.YesOptionAWinCouponCount<=0?(e.$Message.warning("第一题题目是的选项A的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question1.YesOptionBUseIntegral)||this.questionmodal.Question1.YesOptionBUseIntegral<=0||isNaN(this.questionmodal.Question1.YesOptionBWinCouponCount)||this.questionmodal.Question1.YesOptionBWinCouponCount<=0?(e.$Message.warning("第一题题目是的选项B的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question1.YesOptionCUseIntegral)||this.questionmodal.Question1.YesOptionCUseIntegral<=0||isNaN(this.questionmodal.Question1.YesOptionCWinCouponCount)||this.questionmodal.Question1.YesOptionCWinCouponCount<=0?(e.$Message.warning("第一题题目是的选项C的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question1.NoOptionAUseIntegral)||this.questionmodal.Question1.NoOptionAUseIntegral<=0||isNaN(this.questionmodal.Question1.NoOptionAWinCouponCount)||this.questionmodal.Question1.NoOptionAWinCouponCount<=0?(e.$Message.warning("第一题题目否的选项A的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question1.NoOptionBUseIntegral)||this.questionmodal.Question1.NoOptionBUseIntegral<=0||isNaN(this.questionmodal.Question1.NoOptionBWinCouponCount)||this.questionmodal.Question1.NoOptionBWinCouponCount<=0?(e.$Message.warning("第一题题目否的选项B的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question1.NoOptionCUseIntegral)||this.questionmodal.Question1.NoOptionCUseIntegral<=0||isNaN(this.questionmodal.Question1.NoOptionCWinCouponCount)||this.questionmodal.Question1.NoOptionCWinCouponCount<=0?(e.$Message.warning("第一题题目否的选项C的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):this.questionmodal.Question2.DeadLineTime?(this.questionmodal.Question2.StartTime=this.formatDate(this.questionmodal.Question1.StartTime).replace("00:00:00","11:00:00"),this.questionmodal.Question2.EndTime=this.formatDate(this.questionmodal.Question1.EndTime).replace("00:00:00","11:00:00"),this.questionmodal.Question2.DeadLineTime=this.formatDate(this.questionmodal.Question2.DeadLineTime),console.log(this.questionmodal.Question2.StartTime),console.log(this.questionmodal.Question2.EndTime),console.log(this.questionmodal.Question2.DeadLineTime),console.log(this.isLater(this.questionmodal.Question2.EndTime,this.questionmodal.Question2.DeadLineTime)),console.log(this.isLater(this.questionmodal.Question2.DeadLineTime,this.questionmodal.Question2.StartTime)),this.isLater(this.questionmodal.Question2.EndTime,this.questionmodal.Question2.DeadLineTime)&&this.isLater(this.questionmodal.Question2.DeadLineTime,this.questionmodal.Question2.StartTime)?this.questionmodal.Question2.QuestionTitle?(console.log(!isNaN(this.questionmodal.Question2.YesOptionAUseIntegral)),console.log(this.questionmodal.Question2.YesOptionAUseIntegral<=0),isNaN(this.questionmodal.Question2.YesOptionAUseIntegral)||this.questionmodal.Question2.YesOptionAUseIntegral<=0||isNaN(this.questionmodal.Question2.YesOptionAWinCouponCount)||this.questionmodal.Question2.YesOptionAWinCouponCount<=0?(e.$Message.warning("第二题题目是的选项A的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question2.YesOptionBUseIntegral)||this.questionmodal.Question2.YesOptionBUseIntegral<=0||isNaN(this.questionmodal.Question2.YesOptionBWinCouponCount)||this.questionmodal.Question2.YesOptionBWinCouponCount<=0?(e.$Message.warning("第二题题目是的选项B的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question2.YesOptionCUseIntegral)||this.questionmodal.Question2.YesOptionCUseIntegral<=0||isNaN(this.questionmodal.Question2.YesOptionCWinCouponCount)||this.questionmodal.Question2.YesOptionCWinCouponCount<=0?(e.$Message.warning("第二题题目是的选项C的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question2.NoOptionAUseIntegral)||this.questionmodal.Question2.NoOptionAUseIntegral<=0||isNaN(this.questionmodal.Question2.NoOptionAWinCouponCount)||this.questionmodal.Question2.NoOptionAWinCouponCount<=0?(e.$Message.warning("第二题题目否的选项A的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question2.NoOptionBUseIntegral)||this.questionmodal.Question2.NoOptionBUseIntegral<=0||isNaN(this.questionmodal.Question2.NoOptionBWinCouponCount)||this.questionmodal.Question2.NoOptionBWinCouponCount<=0?(e.$Message.warning("第二题题目否的选项B的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question2.NoOptionCUseIntegral)||this.questionmodal.Question2.NoOptionCUseIntegral<=0||isNaN(this.questionmodal.Question2.NoOptionCWinCouponCount)||this.questionmodal.Question2.NoOptionCWinCouponCount<=0?(e.$Message.warning("第二题题目否的选项C的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):this.questionmodal.Question3.DeadLineTime?(this.questionmodal.Question3.StartTime=this.formatDate(this.questionmodal.Question1.StartTime).replace("00:00:00","11:00:00"),this.questionmodal.Question3.EndTime=this.formatDate(this.questionmodal.Question1.EndTime).replace("00:00:00","11:00:00"),this.questionmodal.Question3.DeadLineTime=this.formatDate(this.questionmodal.Question3.DeadLineTime),console.log(this.questionmodal.Question3.StartTime),console.log(this.questionmodal.Question3.EndTime),console.log(this.questionmodal.Question3.DeadLineTime),console.log(this.isLater(this.questionmodal.Question3.EndTime,this.questionmodal.Question3.DeadLineTime)),console.log(this.isLater(this.questionmodal.Question3.DeadLineTime,this.questionmodal.Question3.StartTime)),this.isLater(this.questionmodal.Question3.EndTime,this.questionmodal.Question3.DeadLineTime)&&this.isLater(this.questionmodal.Question3.DeadLineTime,this.questionmodal.Question3.StartTime)?this.questionmodal.Question3.QuestionTitle?(console.log(!isNaN(this.questionmodal.Question3.YesOptionAUseIntegral)),console.log(this.questionmodal.Question3.YesOptionAUseIntegral<=0),isNaN(this.questionmodal.Question3.YesOptionAUseIntegral)||this.questionmodal.Question3.YesOptionAUseIntegral<=0||isNaN(this.questionmodal.Question3.YesOptionAWinCouponCount)||this.questionmodal.Question3.YesOptionAWinCouponCount<=0?(e.$Message.warning("第三题题目是的选项A的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question3.YesOptionBUseIntegral)||this.questionmodal.Question3.YesOptionBUseIntegral<=0||isNaN(this.questionmodal.Question3.YesOptionBWinCouponCount)||this.questionmodal.Question3.YesOptionBWinCouponCount<=0?(e.$Message.warning("第三题题目是的选项B的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question3.YesOptionCUseIntegral)||this.questionmodal.Question3.YesOptionCUseIntegral<=0||isNaN(this.questionmodal.Question3.YesOptionCWinCouponCount)||this.questionmodal.Question3.YesOptionCWinCouponCount<=0?(e.$Message.warning("第三题题目是的选项C的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question3.NoOptionAUseIntegral)||this.questionmodal.Question3.NoOptionAUseIntegral<=0||isNaN(this.questionmodal.Question3.NoOptionAWinCouponCount)||this.questionmodal.Question3.NoOptionAWinCouponCount<=0?(e.$Message.warning("第三题题目否的选项A的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question3.NoOptionBUseIntegral)||this.questionmodal.Question3.NoOptionBUseIntegral<=0||isNaN(this.questionmodal.Question3.NoOptionBWinCouponCount)||this.questionmodal.Question3.NoOptionBWinCouponCount<=0?(e.$Message.warning("第三题题目否的选项B的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question3.NoOptionCUseIntegral)||this.questionmodal.Question3.NoOptionCUseIntegral<=0||isNaN(this.questionmodal.Question3.NoOptionCWinCouponCount)||this.questionmodal.Question3.NoOptionCWinCouponCount<=0?(e.$Message.warning("第三题题目否的选项C的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):void(e.questionmodal.Question1.PKID>0?e.ajax.post("/GuessGame/UpdateQuestionWithOptionList",{question1:e.questionmodal.Question1,question2:e.questionmodal.Question2,question3:e.questionmodal.Question3}).then(function(t){t.data?(e.$Message.error(t.data),e.$nextTick(function(){e.questionmodal.loading=!0})):(e.$Message.success("操作成功"),e.questionmodal.visible=!1,e.loadData(e.page.current)),e.questionmodal.loading=!1}):e.ajax.post("/GuessGame/SaveQuestionWithOptionList",{question1:e.questionmodal.Question1,question2:e.questionmodal.Question2,question3:e.questionmodal.Question3}).then(function(t){t.data?(e.$Message.error(t.data),e.$nextTick(function(){e.questionmodal.loading=!0})):(e.$Message.success("操作成功"),e.questionmodal.visible=!1,e.loadData(e.page.current)),e.questionmodal.loading=!1}))):(e.$Message.warning("第三题题目内容不能为空"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):(e.$Message.warning("第三题题目竞猜截至时间请介于开始时间和结束时间之间"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1))):(e.$Message.warning("第三题题目竞猜截至时间不能为空,请设置"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1))):(e.$Message.warning("第二题题目内容不能为空"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):(e.$Message.warning("第二题题目竞猜截至时间请介于开始时间和结束时间之间"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1))):(e.$Message.warning("第二题题目竞猜截至时间不能为空,请设置"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1))):(e.$Message.warning("第一题题目内容不能为空"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):(e.$Message.warning("第一题题目竞猜截至时间请介于开始时间和结束时间之间"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1))):(e.$Message.warning("第一题题目结束时间不能早于开始时间"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1))):(e.$Message.warning("第一题题目结束时间,开始时间,竞猜截至时间不能为空,请设置"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1))},FetchProductInfo:function(e){var t=this;e&&t.ajax.post("/GroupBuyingV2/FetchProductInfo",{pid:e}).then(function(e){e.data?(t.modal.productConfig.PID=e.data.PID,t.modal.productConfig.ProductName=e.data.ProductName,t.modal.productConfig.ProductPrice=e.data.ProductPrice):t.$Message.warning("商品 PID 无效")})},handlePageChange:function(e){this.loadData(e)},handlePageSizeChange:function(e){this.page.pageSize=e,this.loadData(this.page.current)},deleteCoupon:function(e){this.modal.productConfig.Coupons.splice(e,1)},handleLogPageSizeChange:function(e){this.logpage.pageSize=e,this.loadData(this.logpage.current)},formatDate:function(e){if(e){var t=new Date(e),o=t.getFullYear(),i=t.getDate(),n=t.getMonth()+1,a=t.getHours(),s=t.getMinutes(),l=t.getSeconds(),r=function(e,t){for(var o=e.toString();o.length<t;)o="0"+o;return o};return 1===o?"":r(o,4)+"-"+r(n,2)+"-"+r(i,2)+" "+r(a,2)+":"+r(s,2)+":"+r(l,2)}return""},isLater:function(e,t){return new Date(e)>=new Date(t)},ConvertValue:function(e){var t="";return 0===e?t="未添加答案":1===e?t="已添加答案":2===e&&(t="已公布"),t},ConvertBoolValue:function(e){var t="";return!1===e?t="否":!0===e&&(t="是"),t},QueryQuestionWithOption:function(e,t){var o=this;this.ajax.get("/GuessGame/GetQuestionWithOptionList?endTime="+this.formatDate(e)+"&isdeleted="+t).then(function(e){e.data.data[0]&&(o.queryquestionmodal.Question1=e.data.data[0],o.queryquestionmodal.visible=!0),e.data.data[1]&&(o.queryquestionmodal.Question2=e.data.data[1],o.queryquestionmodal.visible=!0),e.data.data[2]&&(o.queryquestionmodal.Question3=e.data.data[2],o.queryquestionmodal.visible=!0)})}}},v={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1",{staticClass:"title"},[e._v("答题配置")]),e._v(" "),o("div",[o("label",[e._v("题目下线日期")]),e._v(" "),o("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"date","show-week-numbers":""},model:{value:e.filters.endTime,callback:function(t){e.$set(e.filters,"endTime",t)},expression:"filters.endTime"}}),e._v(" "),o("lable",{staticStyle:{"margin-left":"13px"}},[e._v("竞猜结果")]),e._v(" "),o("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"竞猜结果"},model:{value:e.filters.QuestionConfirm,callback:function(t){e.$set(e.filters,"QuestionConfirm",t)},expression:"filters.QuestionConfirm"}},e._l(e.gameStatusList,function(t){return o("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),o("div",{staticStyle:{"margin-top":"18px"}},[o("Button",{attrs:{type:"success",icon:"search"},on:{click:function(t){e.loadData(1)}}},[e._v("搜索")]),e._v(" "),o("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"success",icon:"plus"},on:{click:function(t){e.searchQuestionWithOption()}}},[e._v("新增竞猜")]),e._v(" "),o("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"success",icon:"load-c"},on:{click:e.RefreshQuestionCache}},[e._v("刷新缓存")])],1),e._v(" "),o("div",{staticStyle:{"margin-top":"18px"}},[o("Table",{staticStyle:{width:"100%"},attrs:{loading:e.table.loading,data:e.table.data,columns:e.table.columns,stripe:""}}),e._v(" "),o("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[o("div",{staticStyle:{float:"right"}},[o("Page",{attrs:{total:e.page.total,"page-size":e.page.pageSize,current:e.page.current,"page-size-opts":[10,30,50],"show-sizer":""},on:{"on-change":e.handlePageChange,"on-page-size-change":e.handlePageSizeChange}})],1)])],1),e._v(" "),o("Modal",{attrs:{title:"操作日志",cancelText:"取消",scrollable:"true",width:e.logmodal.width},on:{"on-cancel":e.cancel},model:{value:e.logmodal.visible,callback:function(t){e.$set(e.logmodal,"visible",t)},expression:"logmodal.visible"}},[o("Table",{attrs:{loading:e.logmodal.loading,data:e.logmodal.data,columns:e.logmodal.columns,stripe:""}})],1),e._v(" "),o("Modal",{attrs:{title:"删除",loading:e.deleteModal.loading,"mask-closable":!1},on:{"on-ok":e.deleteok},model:{value:e.deleteModal.visible,callback:function(t){e.$set(e.deleteModal,"visible",t)},expression:"deleteModal.visible"}},[o("p",[e._v("确认删除,会将当天的套题全部删除哦？")])]),e._v(" "),o("Modal",{attrs:{title:"发布答案",loading:e.releaseModal.loading,"mask-closable":!1},on:{"on-ok":e.releaseok},model:{value:e.releaseModal.visible,callback:function(t){e.$set(e.releaseModal,"visible",t)},expression:"releaseModal.visible"}},[o("p",[e._v("确认发布答案,会将当天的套题答案全部发布哦？")])]),e._v(" "),o("Modal",{attrs:{loading:e.modal.loading,title:"答案编辑",okText:"保存",transfer:!1,cancelText:"取消",width:"50%","mask-closable":!1},on:{"on-ok":e.SaveQuestionConfig},model:{value:e.modal.visible,callback:function(t){e.$set(e.modal,"visible",t)},expression:"modal.visible"}},[o("Form",{ref:"modal.productConfig",attrs:{model:e.modal.productConfig,rules:e.modal.rules,"label-width":90}},[o("FormItem",{attrs:{label:"题目内容1"}},[o("Input",{attrs:{disabled:!0},model:{value:e.modal.QuestionAnswer1.QuestionTitle,callback:function(t){e.$set(e.modal.QuestionAnswer1,"QuestionTitle",t)},expression:"modal.QuestionAnswer1.QuestionTitle"}})],1),e._v(" "),o("FormItem",{attrs:{label:"竞猜结果"}},[o("Input",{model:{value:e.modal.QuestionAnswer1.QuestionTextResult,callback:function(t){e.$set(e.modal.QuestionAnswer1,"QuestionTextResult",t)},expression:"modal.QuestionAnswer1.QuestionTextResult"}})],1),e._v(" "),o("FormItem",[o("Row",[o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.modal.QuestionAnswer1.AnswerYes,expression:"modal.QuestionAnswer1.AnswerYes"}],attrs:{type:"radio",value:"1"},domProps:{checked:e._q(e.modal.QuestionAnswer1.AnswerYes,"1")},on:{change:function(t){e.$set(e.modal.QuestionAnswer1,"AnswerYes","1")}}}),e._v("是                      \n                      ")]),e._v(" "),o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.modal.QuestionAnswer1.AnswerYes,expression:"modal.QuestionAnswer1.AnswerYes"}],attrs:{type:"radio",value:"-1"},domProps:{checked:e._q(e.modal.QuestionAnswer1.AnswerYes,"-1")},on:{change:function(t){e.$set(e.modal.QuestionAnswer1,"AnswerYes","-1")}}}),e._v("否    \n                      ")])],1)],1),e._v(" "),o("FormItem",{attrs:{label:"题目内容2"}},[o("Input",{attrs:{disabled:!0},model:{value:e.modal.QuestionAnswer2.QuestionTitle,callback:function(t){e.$set(e.modal.QuestionAnswer2,"QuestionTitle",t)},expression:"modal.QuestionAnswer2.QuestionTitle"}})],1),e._v(" "),o("FormItem",{attrs:{label:"竞猜结果"}},[o("Input",{model:{value:e.modal.QuestionAnswer2.QuestionTextResult,callback:function(t){e.$set(e.modal.QuestionAnswer2,"QuestionTextResult",t)},expression:"modal.QuestionAnswer2.QuestionTextResult"}})],1),e._v(" "),o("FormItem",[o("Row",[o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.modal.QuestionAnswer2.AnswerYes,expression:"modal.QuestionAnswer2.AnswerYes"}],attrs:{type:"radio",value:"1"},domProps:{checked:e._q(e.modal.QuestionAnswer2.AnswerYes,"1")},on:{change:function(t){e.$set(e.modal.QuestionAnswer2,"AnswerYes","1")}}}),e._v("是                      \n                      ")]),e._v(" "),o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.modal.QuestionAnswer2.AnswerYes,expression:"modal.QuestionAnswer2.AnswerYes"}],attrs:{type:"radio",value:"-1"},domProps:{checked:e._q(e.modal.QuestionAnswer2.AnswerYes,"-1")},on:{change:function(t){e.$set(e.modal.QuestionAnswer2,"AnswerYes","-1")}}}),e._v("否    \n                      ")])],1)],1),e._v(" "),o("FormItem",{attrs:{label:"题目内容3"}},[o("Input",{attrs:{disabled:!0},model:{value:e.modal.QuestionAnswer3.QuestionTitle,callback:function(t){e.$set(e.modal.QuestionAnswer3,"QuestionTitle",t)},expression:"modal.QuestionAnswer3.QuestionTitle"}})],1),e._v(" "),o("FormItem",{attrs:{label:"竞猜结果"}},[o("Input",{model:{value:e.modal.QuestionAnswer3.QuestionTextResult,callback:function(t){e.$set(e.modal.QuestionAnswer3,"QuestionTextResult",t)},expression:"modal.QuestionAnswer3.QuestionTextResult"}})],1),e._v(" "),o("FormItem",[o("Row",[o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.modal.QuestionAnswer3.AnswerYes,expression:"modal.QuestionAnswer3.AnswerYes"}],attrs:{type:"radio",value:"1"},domProps:{checked:e._q(e.modal.QuestionAnswer3.AnswerYes,"1")},on:{change:function(t){e.$set(e.modal.QuestionAnswer3,"AnswerYes","1")}}}),e._v("是                      \n                      ")]),e._v(" "),o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.modal.QuestionAnswer3.AnswerYes,expression:"modal.QuestionAnswer3.AnswerYes"}],attrs:{type:"radio",value:"-1"},domProps:{checked:e._q(e.modal.QuestionAnswer3.AnswerYes,"-1")},on:{change:function(t){e.$set(e.modal.QuestionAnswer3,"AnswerYes","-1")}}}),e._v("否    \n                      ")])],1)],1),e._v(" "),o("FormItem",{attrs:{label:"答案公布日期"}},[o("Input",{attrs:{disabled:!0},model:{value:e.modal.QuestionAnswer1.EndTime,callback:function(t){e.$set(e.modal.QuestionAnswer1,"EndTime",t)},expression:"modal.QuestionAnswer1.EndTime"}})],1)],1)],1),e._v(" "),o("Modal",{attrs:{loading:e.querymodal.loading,transfer:!1,title:"答案查看",width:"50%","mask-closable":!1},model:{value:e.querymodal.visible,callback:function(t){e.$set(e.querymodal,"visible",t)},expression:"querymodal.visible"}},[o("Form",{ref:"querymodal.productConfig",attrs:{model:e.querymodal.productConfig,rules:e.querymodal.rules,"label-width":90}},[o("FormItem",{attrs:{label:"题目内容1"}},[o("Input",{attrs:{disabled:!0},model:{value:e.querymodal.QuestionAnswer1.QuestionTitle,callback:function(t){e.$set(e.querymodal.QuestionAnswer1,"QuestionTitle",t)},expression:"querymodal.QuestionAnswer1.QuestionTitle"}})],1),e._v(" "),o("FormItem",{attrs:{label:"竞猜结果"}},[o("Input",{attrs:{disabled:!0},model:{value:e.querymodal.QuestionAnswer1.QuestionTextResult,callback:function(t){e.$set(e.querymodal.QuestionAnswer1,"QuestionTextResult",t)},expression:"querymodal.QuestionAnswer1.QuestionTextResult"}})],1),e._v(" "),o("FormItem",[o("Row",[o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.querymodal.QuestionAnswer1.AnswerYes,expression:"querymodal.QuestionAnswer1.AnswerYes"}],attrs:{type:"radio",value:"1",disabled:!0},domProps:{checked:e._q(e.querymodal.QuestionAnswer1.AnswerYes,"1")},on:{change:function(t){e.$set(e.querymodal.QuestionAnswer1,"AnswerYes","1")}}}),e._v("是                      \n                      ")]),e._v(" "),o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.querymodal.QuestionAnswer1.AnswerYes,expression:"querymodal.QuestionAnswer1.AnswerYes"}],attrs:{type:"radio",value:"-1",disabled:!0},domProps:{checked:e._q(e.querymodal.QuestionAnswer1.AnswerYes,"-1")},on:{change:function(t){e.$set(e.querymodal.QuestionAnswer1,"AnswerYes","-1")}}}),e._v("否    \n                      ")])],1)],1),e._v(" "),o("FormItem",{attrs:{label:"题目内容2"}},[o("Input",{attrs:{disabled:!0},model:{value:e.querymodal.QuestionAnswer2.QuestionTitle,callback:function(t){e.$set(e.querymodal.QuestionAnswer2,"QuestionTitle",t)},expression:"querymodal.QuestionAnswer2.QuestionTitle"}})],1),e._v(" "),o("FormItem",{attrs:{label:"竞猜结果"}},[o("Input",{attrs:{disabled:!0},model:{value:e.querymodal.QuestionAnswer2.QuestionTextResult,callback:function(t){e.$set(e.querymodal.QuestionAnswer2,"QuestionTextResult",t)},expression:"querymodal.QuestionAnswer2.QuestionTextResult"}})],1),e._v(" "),o("FormItem",[o("Row",[o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.querymodal.QuestionAnswer2.AnswerYes,expression:"querymodal.QuestionAnswer2.AnswerYes"}],attrs:{type:"radio",value:"1",disabled:!0},domProps:{checked:e._q(e.querymodal.QuestionAnswer2.AnswerYes,"1")},on:{change:function(t){e.$set(e.querymodal.QuestionAnswer2,"AnswerYes","1")}}}),e._v("是                      \n                      ")]),e._v(" "),o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.querymodal.QuestionAnswer2.AnswerYes,expression:"querymodal.QuestionAnswer2.AnswerYes"}],attrs:{type:"radio",value:"-1",disabled:!0},domProps:{checked:e._q(e.querymodal.QuestionAnswer2.AnswerYes,"-1")},on:{change:function(t){e.$set(e.querymodal.QuestionAnswer2,"AnswerYes","-1")}}}),e._v("否    \n                      ")])],1)],1),e._v(" "),o("FormItem",{attrs:{label:"题目内容3"}},[o("Input",{attrs:{disabled:!0},model:{value:e.querymodal.QuestionAnswer3.QuestionTitle,callback:function(t){e.$set(e.querymodal.QuestionAnswer3,"QuestionTitle",t)},expression:"querymodal.QuestionAnswer3.QuestionTitle"}})],1),e._v(" "),o("FormItem",{attrs:{label:"竞猜结果"}},[o("Input",{attrs:{disabled:!0},model:{value:e.querymodal.QuestionAnswer3.QuestionTextResult,callback:function(t){e.$set(e.querymodal.QuestionAnswer3,"QuestionTextResult",t)},expression:"querymodal.QuestionAnswer3.QuestionTextResult"}})],1),e._v(" "),o("FormItem",[o("Row",[o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.querymodal.QuestionAnswer3.AnswerYes,expression:"querymodal.QuestionAnswer3.AnswerYes"}],attrs:{type:"radio",value:"1",disabled:!0},domProps:{checked:e._q(e.querymodal.QuestionAnswer3.AnswerYes,"1")},on:{change:function(t){e.$set(e.querymodal.QuestionAnswer3,"AnswerYes","1")}}}),e._v("是                      \n                      ")]),e._v(" "),o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.querymodal.QuestionAnswer3.AnswerYes,expression:"querymodal.QuestionAnswer3.AnswerYes"}],attrs:{type:"radio",value:"-1",disabled:!0},domProps:{checked:e._q(e.querymodal.QuestionAnswer3.AnswerYes,"-1")},on:{change:function(t){e.$set(e.querymodal.QuestionAnswer3,"AnswerYes","-1")}}}),e._v("否    \n                      ")])],1)],1),e._v(" "),o("FormItem",{attrs:{label:"答案公布日期"}},[o("Input",{attrs:{disabled:!0},model:{value:e.querymodal.QuestionAnswer1.EndTime,callback:function(t){e.$set(e.querymodal.QuestionAnswer1,"EndTime",t)},expression:"querymodal.QuestionAnswer1.EndTime"}})],1)],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"})],1),e._v(" "),o("Modal",{attrs:{loading:e.questionmodal.loading,title:"题目编辑",okText:"保存",transfer:!1,cancelText:"取消",overflow:"visible",width:"50%","mask-closable":!1},on:{"on-ok":e.SaveQuestionOptionConfig},model:{value:e.questionmodal.visible,callback:function(t){e.$set(e.questionmodal,"visible",t)},expression:"questionmodal.visible"}},[o("div",[o("label",[e._v("题目上线日期区间:")]),e._v(" "),o("DatePicker",{attrs:{type:"datetime",format:"yyyy-MM-dd",transfer:"",placeholder:"上架时间"},model:{value:e.questionmodal.Question1.StartTime,callback:function(t){e.$set(e.questionmodal.Question1,"StartTime",t)},expression:"questionmodal.Question1.StartTime"}}),e._v(" -\n         "),o("Date-Picker",{attrs:{type:"datetime",format:"yyyy-MM-dd",transfer:"",placeholder:"下架时间"},model:{value:e.questionmodal.Question1.EndTime,callback:function(t){e.$set(e.questionmodal.Question1,"EndTime",t)},expression:"questionmodal.Question1.EndTime"}})],1),e._v(" "),o("div",[o("label",[e._v("题目标题1")]),e._v(" "),o("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入题目标题"},model:{value:e.questionmodal.Question1.QuestionTitle,callback:function(t){e.$set(e.questionmodal.Question1,"QuestionTitle",t)},expression:"questionmodal.Question1.QuestionTitle"}}),e._v(" "),o("lable",{staticStyle:{"margin-left":"15px"}},[e._v("竞猜截止时间：")]),e._v(" "),o("Date-Picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss",transfer:"",placeholder:"截止时间"},model:{value:e.questionmodal.Question1.DeadLineTime,callback:function(t){e.$set(e.questionmodal.Question1,"DeadLineTime",t)},expression:"questionmodal.Question1.DeadLineTime"}})],1),e._v(" "),o("div",[o("label",[e._v("竞猜选「是」的选项")])]),e._v(" "),o("div",[o("lable",[e._v("选项A：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question1.YesOptionAUseIntegral,callback:function(t){e.$set(e.questionmodal.Question1,"YesOptionAUseIntegral",t)},expression:"questionmodal.Question1.YesOptionAUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question1.YesOptionAWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question1,"YesOptionAWinCouponCount",t)},expression:"questionmodal.Question1.YesOptionAWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项B：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question1.YesOptionBUseIntegral,callback:function(t){e.$set(e.questionmodal.Question1,"YesOptionBUseIntegral",t)},expression:"questionmodal.Question1.YesOptionBUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question1.YesOptionBWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question1,"YesOptionBWinCouponCount",t)},expression:"questionmodal.Question1.YesOptionBWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项C：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question1.YesOptionCUseIntegral,callback:function(t){e.$set(e.questionmodal.Question1,"YesOptionCUseIntegral",t)},expression:"questionmodal.Question1.YesOptionCUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question1.YesOptionCWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question1,"YesOptionCWinCouponCount",t)},expression:"questionmodal.Question1.YesOptionCWinCouponCount"}}),e._v(" 兑换券\n     ")],1),e._v(" "),o("div",[o("label",[e._v("竞猜选「否」的选项")])]),e._v(" "),o("div",[o("lable",[e._v("选项A：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question1.NoOptionAUseIntegral,callback:function(t){e.$set(e.questionmodal.Question1,"NoOptionAUseIntegral",t)},expression:"questionmodal.Question1.NoOptionAUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question1.NoOptionAWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question1,"NoOptionAWinCouponCount",t)},expression:"questionmodal.Question1.NoOptionAWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项B：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question1.NoOptionBUseIntegral,callback:function(t){e.$set(e.questionmodal.Question1,"NoOptionBUseIntegral",t)},expression:"questionmodal.Question1.NoOptionBUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question1.NoOptionBWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question1,"NoOptionBWinCouponCount",t)},expression:"questionmodal.Question1.NoOptionBWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项C：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question1.NoOptionCUseIntegral,callback:function(t){e.$set(e.questionmodal.Question1,"NoOptionCUseIntegral",t)},expression:"questionmodal.Question1.NoOptionCUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question1.NoOptionCWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question1,"NoOptionCWinCouponCount",t)},expression:"questionmodal.Question1.NoOptionCWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("label",[e._v("题目标题2:")]),e._v(" "),o("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入题目标题"},model:{value:e.questionmodal.Question2.QuestionTitle,callback:function(t){e.$set(e.questionmodal.Question2,"QuestionTitle",t)},expression:"questionmodal.Question2.QuestionTitle"}}),e._v(" "),o("lable",{staticStyle:{"margin-left":"15px"}},[e._v("竞猜截止时间：")]),e._v(" "),o("Date-Picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss",transfer:"",placeholder:"截止时间"},model:{value:e.questionmodal.Question2.DeadLineTime,callback:function(t){e.$set(e.questionmodal.Question2,"DeadLineTime",t)},expression:"questionmodal.Question2.DeadLineTime"}})],1),e._v(" "),o("div",[o("label",[e._v("竞猜选「是」的选项")])]),e._v(" "),o("div",[o("lable",[e._v("选项A：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question2.YesOptionAUseIntegral,callback:function(t){e.$set(e.questionmodal.Question2,"YesOptionAUseIntegral",t)},expression:"questionmodal.Question2.YesOptionAUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question2.YesOptionAWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question2,"YesOptionAWinCouponCount",t)},expression:"questionmodal.Question2.YesOptionAWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项B：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question2.YesOptionBUseIntegral,callback:function(t){e.$set(e.questionmodal.Question2,"YesOptionBUseIntegral",t)},expression:"questionmodal.Question2.YesOptionBUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question2.YesOptionBWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question2,"YesOptionBWinCouponCount",t)},expression:"questionmodal.Question2.YesOptionBWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项C：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question2.YesOptionCUseIntegral,callback:function(t){e.$set(e.questionmodal.Question2,"YesOptionCUseIntegral",t)},expression:"questionmodal.Question2.YesOptionCUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question2.YesOptionCWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question2,"YesOptionCWinCouponCount",t)},expression:"questionmodal.Question2.YesOptionCWinCouponCount"}}),e._v(" 兑换券\n     ")],1),e._v(" "),o("div",[o("label",[e._v("竞猜选「否」的选项")])]),e._v(" "),o("div",[o("lable",[e._v("选项A：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question2.NoOptionAUseIntegral,callback:function(t){e.$set(e.questionmodal.Question2,"NoOptionAUseIntegral",t)},expression:"questionmodal.Question2.NoOptionAUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question2.NoOptionAWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question2,"NoOptionAWinCouponCount",t)},expression:"questionmodal.Question2.NoOptionAWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项B：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question2.NoOptionBUseIntegral,callback:function(t){e.$set(e.questionmodal.Question2,"NoOptionBUseIntegral",t)},expression:"questionmodal.Question2.NoOptionBUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question2.NoOptionBWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question2,"NoOptionBWinCouponCount",t)},expression:"questionmodal.Question2.NoOptionBWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项C：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question2.NoOptionCUseIntegral,callback:function(t){e.$set(e.questionmodal.Question2,"NoOptionCUseIntegral",t)},expression:"questionmodal.Question2.NoOptionCUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question2.NoOptionCWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question2,"NoOptionCWinCouponCount",t)},expression:"questionmodal.Question2.NoOptionCWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("label",[e._v("题目标题3:")]),e._v(" "),o("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入题目标题"},model:{value:e.questionmodal.Question3.QuestionTitle,callback:function(t){e.$set(e.questionmodal.Question3,"QuestionTitle",t)},expression:"questionmodal.Question3.QuestionTitle"}}),e._v(" "),o("lable",{staticStyle:{"margin-left":"15px"}},[e._v("竞猜截止时间：")]),e._v(" "),o("Date-Picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss",transfer:"",placeholder:"截止时间",placement:"bottom-end"},model:{value:e.questionmodal.Question3.DeadLineTime,callback:function(t){e.$set(e.questionmodal.Question3,"DeadLineTime",t)},expression:"questionmodal.Question3.DeadLineTime"}})],1),e._v(" "),o("div",[o("label",[e._v("竞猜选「是」的选项")])]),e._v(" "),o("div",[o("lable",[e._v("选项A：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question3.YesOptionAUseIntegral,callback:function(t){e.$set(e.questionmodal.Question3,"YesOptionAUseIntegral",t)},expression:"questionmodal.Question3.YesOptionAUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question3.YesOptionAWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question3,"YesOptionAWinCouponCount",t)},expression:"questionmodal.Question3.YesOptionAWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项B：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question3.YesOptionBUseIntegral,callback:function(t){e.$set(e.questionmodal.Question3,"YesOptionBUseIntegral",t)},expression:"questionmodal.Question3.YesOptionBUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question3.YesOptionBWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question3,"YesOptionBWinCouponCount",t)},expression:"questionmodal.Question3.YesOptionBWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项C：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question3.YesOptionCUseIntegral,callback:function(t){e.$set(e.questionmodal.Question3,"YesOptionCUseIntegral",t)},expression:"questionmodal.Question3.YesOptionCUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question3.YesOptionCWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question3,"YesOptionCWinCouponCount",t)},expression:"questionmodal.Question3.YesOptionCWinCouponCount"}}),e._v(" 兑换券\n     ")],1),e._v(" "),o("div",[o("label",[e._v("竞猜选「否」的选项")])]),e._v(" "),o("div",[o("lable",[e._v("选项A：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question3.NoOptionAUseIntegral,callback:function(t){e.$set(e.questionmodal.Question3,"NoOptionAUseIntegral",t)},expression:"questionmodal.Question3.NoOptionAUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question3.NoOptionAWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question3,"NoOptionAWinCouponCount",t)},expression:"questionmodal.Question3.NoOptionAWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项B：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question3.NoOptionBUseIntegral,callback:function(t){e.$set(e.questionmodal.Question3,"NoOptionBUseIntegral",t)},expression:"questionmodal.Question3.NoOptionBUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question3.NoOptionBWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question3,"NoOptionBWinCouponCount",t)},expression:"questionmodal.Question3.NoOptionBWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项C：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字"},model:{value:e.questionmodal.Question3.NoOptionCUseIntegral,callback:function(t){e.$set(e.questionmodal.Question3,"NoOptionCUseIntegral",t)},expression:"questionmodal.Question3.NoOptionCUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字"},model:{value:e.questionmodal.Question3.NoOptionCWinCouponCount,callback:function(t){e.$set(e.questionmodal.Question3,"NoOptionCWinCouponCount",t)},expression:"questionmodal.Question3.NoOptionCWinCouponCount"}}),e._v(" 兑换券\n      ")],1)]),e._v(" "),o("Modal",{attrs:{loading:e.queryquestionmodal.loading,title:"题目查看",width:"50%","mask-closable":!1},model:{value:e.queryquestionmodal.visible,callback:function(t){e.$set(e.queryquestionmodal,"visible",t)},expression:"queryquestionmodal.visible"}},[o("div",[o("label",[e._v("题目上线日期区间:")]),e._v(" "),o("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"date",disabled:"true"},model:{value:e.queryquestionmodal.Question1.StartTime,callback:function(t){e.$set(e.queryquestionmodal.Question1,"StartTime",t)},expression:"queryquestionmodal.Question1.StartTime"}}),e._v(" - \n     "),o("DatePicker",{staticStyle:{width:"150px"},attrs:{type:"date",disabled:"true"},model:{value:e.queryquestionmodal.Question1.EndTime,callback:function(t){e.$set(e.queryquestionmodal.Question1,"EndTime",t)},expression:"queryquestionmodal.Question1.EndTime"}})],1),e._v(" "),o("div",[o("label",[e._v("题目标题1:")]),e._v(" "),o("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入题目标题",disabled:"true"},model:{value:e.queryquestionmodal.Question1.QuestionTitle,callback:function(t){e.$set(e.queryquestionmodal.Question1,"QuestionTitle",t)},expression:"queryquestionmodal.Question1.QuestionTitle"}}),e._v(" "),o("lable",{staticStyle:{"margin-left":"15px"}},[e._v("竞猜截止时间：")]),e._v(" "),o("Date-Picker",{staticStyle:{width:"200px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss",disabled:"true"},model:{value:e.queryquestionmodal.Question1.DeadLineTime,callback:function(t){e.$set(e.queryquestionmodal.Question1,"DeadLineTime",t)},expression:"queryquestionmodal.Question1.DeadLineTime"}})],1),e._v(" "),o("div",[o("label",[e._v("竞猜选「是」的选项")])]),e._v(" "),o("div",[o("lable",[e._v("选项A：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question1.YesOptionAUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question1,"YesOptionAUseIntegral",t)},expression:"queryquestionmodal.Question1.YesOptionAUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question1.YesOptionAWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question1,"YesOptionAWinCouponCount",t)},expression:"queryquestionmodal.Question1.YesOptionAWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项B：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question1.YesOptionBUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question1,"YesOptionBUseIntegral",t)},expression:"queryquestionmodal.Question1.YesOptionBUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question1.YesOptionBWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question1,"YesOptionBWinCouponCount",t)},expression:"queryquestionmodal.Question1.YesOptionBWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项C：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question1.YesOptionCUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question1,"YesOptionCUseIntegral",t)},expression:"queryquestionmodal.Question1.YesOptionCUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question1.YesOptionCWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question1,"YesOptionCWinCouponCount",t)},expression:"queryquestionmodal.Question1.YesOptionCWinCouponCount"}}),e._v(" 兑换券\n     ")],1),e._v(" "),o("div",[o("label",[e._v("竞猜选「否」的选项")])]),e._v(" "),o("div",[o("lable",[e._v("选项A：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question1.NoOptionAUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question1,"NoOptionAUseIntegral",t)},expression:"queryquestionmodal.Question1.NoOptionAUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question1.NoOptionAWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question1,"NoOptionAWinCouponCount",t)},expression:"queryquestionmodal.Question1.NoOptionAWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项B：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question1.NoOptionBUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question1,"NoOptionBUseIntegral",t)},expression:"queryquestionmodal.Question1.NoOptionBUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question1.NoOptionBWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question1,"NoOptionBWinCouponCount",t)},expression:"queryquestionmodal.Question1.NoOptionBWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项C：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question1.NoOptionCUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question1,"NoOptionCUseIntegral",t)},expression:"queryquestionmodal.Question1.NoOptionCUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question1.NoOptionCWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question1,"NoOptionCWinCouponCount",t)},expression:"queryquestionmodal.Question1.NoOptionCWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("label",[e._v("题目标题2:")]),e._v(" "),o("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入题目标题",disabled:"true"},model:{value:e.queryquestionmodal.Question2.QuestionTitle,callback:function(t){e.$set(e.queryquestionmodal.Question2,"QuestionTitle",t)},expression:"queryquestionmodal.Question2.QuestionTitle"}}),e._v(" "),o("lable",{staticStyle:{"margin-left":"15px"}},[e._v("竞猜截止时间：")]),e._v(" "),o("Date-Picker",{staticStyle:{width:"200px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss",disabled:"true"},model:{value:e.queryquestionmodal.Question2.DeadLineTime,callback:function(t){e.$set(e.queryquestionmodal.Question2,"DeadLineTime",t)},expression:"queryquestionmodal.Question2.DeadLineTime"}})],1),e._v(" "),o("div",[o("label",[e._v("竞猜选「是」的选项")])]),e._v(" "),o("div",[o("lable",[e._v("选项A：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question2.YesOptionAUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question2,"YesOptionAUseIntegral",t)},expression:"queryquestionmodal.Question2.YesOptionAUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question2.YesOptionAWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question2,"YesOptionAWinCouponCount",t)},expression:"queryquestionmodal.Question2.YesOptionAWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项B：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question2.YesOptionBUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question2,"YesOptionBUseIntegral",t)},expression:"queryquestionmodal.Question2.YesOptionBUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question2.YesOptionBWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question2,"YesOptionBWinCouponCount",t)},expression:"queryquestionmodal.Question2.YesOptionBWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项C：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question2.YesOptionCUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question2,"YesOptionCUseIntegral",t)},expression:"queryquestionmodal.Question2.YesOptionCUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question2.YesOptionCWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question2,"YesOptionCWinCouponCount",t)},expression:"queryquestionmodal.Question2.YesOptionCWinCouponCount"}}),e._v(" 兑换券\n     ")],1),e._v(" "),o("div",[o("label",[e._v("竞猜选「否」的选项")])]),e._v(" "),o("div",[o("lable",[e._v("选项A：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question2.NoOptionAUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question2,"NoOptionAUseIntegral",t)},expression:"queryquestionmodal.Question2.NoOptionAUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question2.NoOptionAWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question2,"NoOptionAWinCouponCount",t)},expression:"queryquestionmodal.Question2.NoOptionAWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项B：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question2.NoOptionBUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question2,"NoOptionBUseIntegral",t)},expression:"queryquestionmodal.Question2.NoOptionBUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question2.NoOptionBWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question2,"NoOptionBWinCouponCount",t)},expression:"queryquestionmodal.Question2.NoOptionBWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项C：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question2.NoOptionCUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question2,"NoOptionCUseIntegral",t)},expression:"queryquestionmodal.Question2.NoOptionCUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question2.NoOptionCWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question2,"NoOptionCWinCouponCount",t)},expression:"queryquestionmodal.Question2.NoOptionCWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("label",[e._v("题目标题3:")]),e._v(" "),o("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入题目标题",disabled:"true"},model:{value:e.queryquestionmodal.Question3.QuestionTitle,callback:function(t){e.$set(e.queryquestionmodal.Question3,"QuestionTitle",t)},expression:"queryquestionmodal.Question3.QuestionTitle"}}),e._v(" "),o("lable",{staticStyle:{"margin-left":"15px"}},[e._v("竞猜截止时间：")]),e._v(" "),o("Date-Picker",{staticStyle:{width:"200px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss",disabled:"true"},model:{value:e.queryquestionmodal.Question3.DeadLineTime,callback:function(t){e.$set(e.queryquestionmodal.Question3,"DeadLineTime",t)},expression:"queryquestionmodal.Question3.DeadLineTime"}})],1),e._v(" "),o("div",[o("label",[e._v("竞猜选「是」的选项")])]),e._v(" "),o("div",[o("lable",[e._v("选项A：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question3.YesOptionAUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question3,"YesOptionAUseIntegral",t)},expression:"queryquestionmodal.Question3.YesOptionAUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question3.YesOptionAWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question3,"YesOptionAWinCouponCount",t)},expression:"queryquestionmodal.Question3.YesOptionAWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项B：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question3.YesOptionBUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question3,"YesOptionBUseIntegral",t)},expression:"queryquestionmodal.Question3.YesOptionBUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question3.YesOptionBWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question3,"YesOptionBWinCouponCount",t)},expression:"queryquestionmodal.Question3.YesOptionBWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项C：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question3.YesOptionCUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question3,"YesOptionCUseIntegral",t)},expression:"queryquestionmodal.Question3.YesOptionCUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question3.YesOptionCWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question3,"YesOptionCWinCouponCount",t)},expression:"queryquestionmodal.Question3.YesOptionCWinCouponCount"}}),e._v(" 兑换券\n     ")],1),e._v(" "),o("div",[o("label",[e._v("竞猜选「否」的选项")])]),e._v(" "),o("div",[o("lable",[e._v("选项A：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question3.NoOptionAUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question3,"NoOptionAUseIntegral",t)},expression:"queryquestionmodal.Question3.NoOptionAUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question3.NoOptionAWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question3,"NoOptionAWinCouponCount",t)},expression:"queryquestionmodal.Question3.NoOptionAWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项B：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question3.NoOptionBUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question3,"NoOptionBUseIntegral",t)},expression:"queryquestionmodal.Question3.NoOptionBUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question3.NoOptionBWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question3,"NoOptionBWinCouponCount",t)},expression:"queryquestionmodal.Question3.NoOptionBWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",[o("lable",[e._v("选项C：")]),e._v(" "),o("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请在此输入下注积分，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question3.NoOptionCUseIntegral,callback:function(t){e.$set(e.queryquestionmodal.Question3,"NoOptionCUseIntegral",t)},expression:"queryquestionmodal.Question3.NoOptionCUseIntegral"}}),e._v(" 积分           \n          "),o("Input",{staticStyle:{width:"150px","margin-left":"150px"},attrs:{placeholder:"请在此输入获得兑换券，必须为数字",disabled:"true"},model:{value:e.queryquestionmodal.Question3.NoOptionCWinCouponCount,callback:function(t){e.$set(e.queryquestionmodal.Question3,"NoOptionCWinCouponCount",t)},expression:"queryquestionmodal.Question3.NoOptionCWinCouponCount"}}),e._v(" 兑换券\n      ")],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"})])],1)},staticRenderFns:[]};var g=o("VU/8")(p,v,!1,function(e){o("G4ve")},null,null).exports,h={data:function(){var e=this;return{index:0,isAdd:1,page:{total:0,current:1,pageSize:10},logpage:{total:0,current:1,pageSize:5},filters:{ActivityPrizeName:"",OnSale:-1},tablemodel:{loading:!0,visible:!1,width:1355,data:[]},logmodal:{loading:!0,visible:!1,width:635,data:[],columns:[{title:"操作内容",width:300,key:"Remark",align:"center",fixed:"left"},{title:"操作人",width:150,key:"Creator",align:"center",fixed:"left"},{title:"时间",width:150,key:"CreateDateTime",render:function(t,o){return t("span",e.formatDate(o.row.CreateDateTime))}}]},table:{loading:!0,data:[],columns:[{title:"#",width:50,align:"center",fixed:"left",type:"index",key:"PKID"},{title:"兑换物名称",key:"ActivityPrizeName"},{title:"缩略图",key:"PicUrl",render:function(e,t){return e("img",{attrs:{src:t.row.PicUrl},style:{display:"inline-block",width:"100%"}})}},{title:"兑换券数量",align:"center",key:"CouponCount"},{title:"总库存",align:"center",key:"SumStock"},{title:"当前库存",align:"center",key:"Stock"},{title:"是否支持兑换",align:"center",key:"IsDisableSale",render:function(t,o){return t("span",e.ConvertBoolValue(o.row.IsDisableSale))}},{title:"状态",align:"center",key:"OnSale",render:function(t,o){return t("span",e.ConvertValue(o.row.OnSale))}},{title:"是否删除",key:"IsDeleted",align:"center",render:function(t,o){return t("span",e.ConvertDeletedBoolValue(o.row.IsDeleted))}},{title:"操作",key:"action",align:"center",width:300,render:function(t,o){return t("div",[t("Button",{props:{type:"primary",size:"small",disabled:1===o.row.OnSale||o.row.IsDeleted},style:{marginRight:"5px"},on:{click:function(){1===o.row.OnSale?e.$Message.warning("当前商品已上架"):(e.onsaleModal.visible=!0,e.onsaleModal.PKID=o.row.PKID)}}},"上架"),t("Button",{props:{type:"primary",size:"small",disabled:0===o.row.OnSale||o.row.IsDeleted},style:{marginRight:"5px"},on:{click:function(){0===o.row.OnSale?e.$Message.warning("当前商品已下架"):(e.offsaleModal.visible=!0,e.offsaleModal.PKID=o.row.PKID)}}},"下架"),t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.queryActivityPrize(o.row.PKID,"Search")}}},"查看"),t("Button",{props:{type:"primary",size:"small",disabled:1===o.row.OnSale||o.row.IsDeleted},style:{marginRight:"5px"},on:{click:function(){1===o.row.OnSale?(e.$Message.warning("当前商品已上架，不支持修改"),e.deleteModal.visible=!1):e.searchActivityPrize(o.row.PKID,"Update")}}},"修改"),t("Button",{props:{type:"primary",size:"small",disabled:1===o.row.OnSale||o.row.IsDeleted},on:{click:function(){1===o.row.OnSale?(e.$Message.warning("当前商品已上架，不支持删除"),e.deleteModal.visible=!1):(e.deleteModal.visible=!0,e.deleteModal.PKID=o.row.PKID)}}},"删除")])}},{title:"日志查看",align:"center",render:function(t,o){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.SearchLog(o.row.PKID,"Search")}}},"查看日志")])}}]},deleteModal:{visible:!1,loading:!0,PKID:0},onsaleModal:{visible:!1,loading:!0,PKID:0},offsaleModal:{visible:!1,loading:!0,PKID:0},SaleStatusList:[{label:"未上架",value:0},{label:"上架",value:1},{label:"所有状态",value:-1}],modal:{visible:!1,loading:!0,disableedit:!1,activityPrize:{PKID:0,ActivityPrizeName:"",ActivityId:0,PID:"",PicUrl:"",CouponCount:0,Stock:0,SumStock:0,UpdateStock:0,OnSale:0,GetRuleId:"00000000-0000-0000-0000-000000000000",IsDisableSale:!1}},insertmodal:{visible:!1,loading:!0,disableedit:!1,activityPrize:{PKID:0,ActivityPrizeName:"",ActivityId:0,PID:"",PicUrl:"",CouponCount:0,Stock:0,SumStock:0,UpdateStock:0,OnSale:0,GetRuleId:"00000000-0000-0000-0000-000000000000",IsDisableSale:!1}},searchmodal:{visible:!1,loading:!0,disableedit:!1,activityPrize:{PKID:0,ActivityPrizeName:"",ActivityId:0,PID:"",PicUrl:"",CouponCount:0,Stock:0,SumStock:0,UpdateStock:0,OnSale:0,GetRuleId:"00000000-0000-0000-0000-000000000000",IsDisableSale:!1}},ruleValidate:{ActivityPrizeName:[{trigger:"blur",validator:function(e,t,o){""===t?o(new Error("商品名称不能为空")):o()}}],PID:[{trigger:"blur",validator:function(e,t,o){""===t?o(new Error("商品编号不能为空")):o()}}],PicUrl:[{trigger:"blur",validator:function(e,t,o){""===t?o(new Error("图片地址不能为空")):o()}}],CouponCount:[{trigger:"blur",validator:function(e,t,o){""===t?o(new Error("兑换券数量不能为空")):isNaN(Number(t))?o(new Error("兑换券数量请输入数字")):Number(t)<=0?o(new Error("兑换券数量必须大于0")):o()}}],UpdateStock:[{trigger:"blur",validator:function(e,t,o){""===t?o(new Error("库存改动量不能为空")):isNaN(Number(t))?o(new Error("库存改动量请输入数字")):o()}}],GetRuleId:[{trigger:"blur",validator:function(e,t,o){!1===new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$","i").test(t)?o(new Error("请输入一个正确的GUID")):o()}}]}}},created:function(){this.$Message.config({top:50,duration:3}),this.loadData(1)},methods:{loadData:function(e){var t=this;this.page.current=e,this.table.loading=!0;var o="?prizeName="+this.filters.ActivityPrizeName;o+="&OnSale="+this.filters.OnSale,o+="&pageIndex="+this.page.current,o+="&pageSize="+this.page.pageSize,this.ajax.get("/GuessGame/GetActivityPrizeList"+o).then(function(e){var o=e.data;t.page.total=o.totalCount,t.table.data=o.data,t.table.loading=!1})},deleteok:function(){var e=this;this.deleteModal.loading=!0,this.ajax.get("/GuessGame/DeleteActivityPrize?pkid="+this.deleteModal.PKID).then(function(t){console.log(t),t.data?(console.log(e.deleteModal),e.$Message.error("删除失败"),e.deleteModal.loading=!1,e.$nextTick(function(){e.deleteModal.loading=!0})):(e.$Message.success("删除成功"),e.loadData(e.page.current),e.deleteModal.loading=!1,e.deleteModal.visible=!1,e.$nextTick(function(){e.deleteModal.loading=!0}))})},RefreshPrizeCache:function(){var e=this;this.ajax.get("/GuessGame/RefreshPrize").then(function(t){console.log(t),t.data?e.$Message.error("刷新缓存失败"):(e.$Message.success("刷新缓存成功"),e.loadData(e.page.current))})},onsaleok:function(){var e=this;this.onsaleModal.loading=!0,this.ajax.get("/GuessGame/UpdateActivityPrizeSale?onsale=1&pkid="+this.onsaleModal.PKID).then(function(t){console.log(t),t.data?(e.$Message.error("上架失败"),e.onsaleModal.loading=!1,e.$nextTick(function(){e.onsaleModal.loading=!0})):(e.$Message.success("上架成功"),e.loadData(e.page.current),e.onsaleModal.loading=!1,e.onsaleModal.visible=!1,e.$nextTick(function(){e.onsaleModal.loading=!0}))})},offsaleok:function(){var e=this;this.offsaleModal.loading=!0,this.ajax.get("/GuessGame/UpdateActivityPrizeSale?onsale=0&pkid="+this.offsaleModal.PKID).then(function(t){console.log(t),t.data?(e.$Message.error("下架失败"),e.offsaleModal.loading=!1,e.$nextTick(function(){e.offsaleModal.loading=!0})):(e.$Message.success("下架成功"),e.loadData(e.page.current),e.offsaleModal.loading=!1,e.offsaleModal.visible=!1,e.$nextTick(function(){e.offsaleModal.loading=!0}))})},search:function(e){var t=this;e&&(new Date(this.formatDate(e))<new Date?this.modal.disableedit=!0:this.modal.disableedit=!1,this.ajax.get("/GuessGame/GetQuestionAnswerList?endTime="+this.formatDate(e)).then(function(e){e.data.data[0]?(t.modal.QuestionAnswer1=e.data.data[0],t.modal.visible=!0):e.data.data[1]?(t.modal.QuestionAnswer2=e.data.data[1],t.modal.visible=!0):e.data.data[2]&&(t.modal.QuestionAnswer3=e.data.data[2],t.modal.visible=!0)}))},queryActivityPrize:function(e){var t=this;e>0?this.ajax.get("/GuessGame/GetActivityPrize?pkid="+e).then(function(e){t.searchmodal.activityPrize=e.data,t.searchmodal.visible=!0,t.searchmodal.disableedit=!0}):(this.searchmodal.visible=!0,this.searchmodal.disableedit=!1,this.searchmodal.activityPrize={PKID:0,ActivityPrizeName:"",ActivityId:0,PID:"",PicUrl:"",CouponCount:0,Stock:0,SumStock:0,OnSale:0,GetRuleId:"00000000-0000-0000-0000-000000000000",IsDisableSale:!1})},searchActivityPrize:function(e){var t=this;e>0?this.ajax.get("/GuessGame/GetActivityPrize?pkid="+e).then(function(e){t.modal.activityPrize=e.data,t.modal.visible=!0,t.modal.disableedit=!0}):(this.insertmodal.visible=!0,this.insertmodal.disableedit=!1,this.insertmodal.activityPrize={PKID:0,ActivityPrizeName:"",ActivityId:0,PID:"",PicUrl:"",CouponCount:0,Stock:0,SumStock:0,OnSale:0,GetRuleId:"00000000-0000-0000-0000-000000000000",IsDisableSale:!1})},SearchLog:function(e){var t=this;this.logmodal.loading=!0,this.ajax.post("/CommonConfigLog/GetCommonConfigLogs",{objectType:"WorldCupConfigPrize",objectId:e}).then(function(e){e.data?t.logmodal.data=e.data:t.logmodal.data=[],t.logmodal.visible=!0,t.logmodal.loading=!1})},handleFormatError:function(e){this.$Message.warning("请选择 .jpg  or .png  or .jpeg图片")},handleMaxSize:function(e){this.$Message.warning("请选择不超过100KB的图片")},handleSuccess:function(e,t){e.Status?this.insertmodal.activityPrize.PicUrl=e.ImageUrl:this.$Message.warning(e.Msg)},SaveActivityPrizeConfig:function(){var e=this;if(e.insertmodal.loading=!0,!this.insertmodal.activityPrize.ActivityPrizeName)return this.$Message.warning("商品名称不允许为空"),e.$nextTick(function(){e.insertmodal.loading=!0}),void(e.insertmodal.loading=!1);if(isNaN(Number(this.insertmodal.activityPrize.CouponCount)))return this.$Message.warning("兑换券数量必须为数字型"),e.$nextTick(function(){e.insertmodal.loading=!0}),void(e.insertmodal.loading=!1);if(!1===this.insertmodal.activityPrize.IsDisableSale){if(Number(this.insertmodal.activityPrize.CouponCount)<=0)return this.$Message.warning("可兑换商品的兑换券数量必须为正整数"),e.$nextTick(function(){e.insertmodal.loading=!0}),void(e.insertmodal.loading=!1)}else if(Number(this.insertmodal.activityPrize.CouponCount)<0)return this.$Message.warning("不可兑换商品的兑换券数量必须为非负数"),e.$nextTick(function(){e.insertmodal.loading=!0}),void(e.insertmodal.loading=!1);return this.insertmodal.activityPrize.PicUrl?!this.insertmodal.activityPrize.SumStock||isNaN(Number(this.insertmodal.activityPrize.SumStock))?(this.$Message.warning("库存量必须为数字"),e.$nextTick(function(){e.insertmodal.loading=!0}),void(e.insertmodal.loading=!1)):(console.log(this.ValidateGuidid(this.insertmodal.activityPrize.GetRuleId)),!1!==this.insertmodal.activityPrize.IsDisableSale||this.insertmodal.activityPrize.GetRuleId&&!1!==this.ValidateGuidid(this.insertmodal.activityPrize.GetRuleId)?void e.ajax.post("/GuessGame/InsertActivityPrize",{activityPrize:e.insertmodal.activityPrize}).then(function(t){console.log(!t.data),t.data?(e.$Message.error(t.data),e.$nextTick(function(){e.insertmodal.loading=!0})):(e.$Message.success("保存成功"),e.insertmodal.visible=!1,e.loadData(e.page.current)),e.insertmodal.loading=!1}):(this.$Message.warning("请输入有效的GUID"),e.$nextTick(function(){e.insertmodal.loading=!0}),void(e.insertmodal.loading=!1))):(this.$Message.warning("请上传商品图片"),e.$nextTick(function(){e.insertmodal.loading=!0}),void(e.insertmodal.loading=!1))},UpdateActivityPrizeStock:function(){var e=this;if(!this.modal.activityPrize.UpdateStock||isNaN(Number(this.modal.activityPrize.UpdateStock)))return this.$Message.warning("改动库存量必须为数字"),e.$nextTick(function(){e.modal.loading=!0}),void(e.modal.loading=!1);this.modal.activityPrize.PKID>0&&e.ajax.post("/GuessGame/UpdateActivityPrize",{activityPrize:e.modal.activityPrize}).then(function(t){t.data?(e.$Message.error(t.data),e.$nextTick(function(){e.modal.loading=!0})):(e.$Message.success("操作成功"),e.modal.visible=!1,e.loadData(e.page.current)),e.modal.loading=!1})},SaveQuestionOptionConfig:function(){var e=this;return this.questionmodal.Question1.StartTime&&this.questionmodal.Question1.EndTime&&this.questionmodal.Question1.DeadLineTime?(this.questionmodal.Question1.StartTime=this.formatDate(this.questionmodal.Question1.StartTime).replace("00:00:00","11:00:00"),this.questionmodal.Question1.EndTime=this.formatDate(this.questionmodal.Question1.EndTime).replace("00:00:00","11:00:00"),this.questionmodal.Question1.DeadLineTime=this.formatDate(this.questionmodal.Question1.DeadLineTime),console.log(this.questionmodal.Question1.StartTime),console.log(this.questionmodal.Question1.EndTime),console.log(this.questionmodal.Question1.DeadLineTime),this.isLater(this.questionmodal.Question1.EndTime,this.questionmodal.Question1.StartTime)?(console.log(this.isLater(this.questionmodal.Question1.EndTime,this.questionmodal.Question1.DeadLineTime)),console.log(this.isLater(this.questionmodal.Question1.DeadLineTime,this.questionmodal.Question1.StartTime)),this.isLater(this.questionmodal.Question1.EndTime,this.questionmodal.Question1.DeadLineTime)&&this.isLater(this.questionmodal.Question1.DeadLineTime,this.questionmodal.Question1.StartTime)?this.questionmodal.Question1.QuestionTitle?(console.log(!isNaN(this.questionmodal.Question1.YesOptionAUseIntegral)),console.log(this.questionmodal.Question1.YesOptionAUseIntegral<=0),isNaN(this.questionmodal.Question1.YesOptionAUseIntegral)||this.questionmodal.Question1.YesOptionAUseIntegral<=0||isNaN(this.questionmodal.Question1.YesOptionAWinCouponCount)||this.questionmodal.Question1.YesOptionAWinCouponCount<=0?(e.$Message.warning("第一题题目是的选项A的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question1.YesOptionBUseIntegral)||this.questionmodal.Question1.YesOptionBUseIntegral<=0||isNaN(this.questionmodal.Question1.YesOptionBWinCouponCount)||this.questionmodal.Question1.YesOptionBWinCouponCount<=0?(e.$Message.warning("第一题题目是的选项B的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question1.YesOptionCUseIntegral)||this.questionmodal.Question1.YesOptionCUseIntegral<=0||isNaN(this.questionmodal.Question1.YesOptionCWinCouponCount)||this.questionmodal.Question1.YesOptionCWinCouponCount<=0?(e.$Message.warning("第一题题目是的选项C的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question1.NoOptionAUseIntegral)||this.questionmodal.Question1.NoOptionAUseIntegral<=0||isNaN(this.questionmodal.Question1.NoOptionAWinCouponCount)||this.questionmodal.Question1.NoOptionAWinCouponCount<=0?(e.$Message.warning("第一题题目否的选项A的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question1.NoOptionBUseIntegral)||this.questionmodal.Question1.NoOptionBUseIntegral<=0||isNaN(this.questionmodal.Question1.NoOptionBWinCouponCount)||this.questionmodal.Question1.NoOptionBWinCouponCount<=0?(e.$Message.warning("第一题题目否的选项B的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):isNaN(this.questionmodal.Question1.NoOptionCUseIntegral)||this.questionmodal.Question1.NoOptionCUseIntegral<=0||isNaN(this.questionmodal.Question1.NoOptionCWinCouponCount)||this.questionmodal.Question1.NoOptionCWinCouponCount<=0?(e.$Message.warning("第一题题目否的选项C的积分值和兑换券必须为正整数"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):void(e.questionmodal.Question1.PKID>0?e.ajax.post("/GuessGame/UpdateQuestionWithOptionList",{question1:e.questionmodal.Question1,question2:e.questionmodal.Question2,question3:e.questionmodal.Question3}).then(function(t){t.data?(e.$Message.error(t.data),e.$nextTick(function(){e.questionmodal.loading=!0})):(e.$Message.success("操作成功"),e.questionmodal.visible=!1,e.loadData(e.page.current)),e.questionmodal.loading=!1}):e.ajax.post("/GuessGame/SaveQuestionWithOptionList",{question1:e.questionmodal.Question1,question2:e.questionmodal.Question2,question3:e.questionmodal.Question3}).then(function(t){t.data?(e.$Message.error(t.data),e.$nextTick(function(){e.questionmodal.loading=!0})):(e.$Message.success("操作成功"),e.questionmodal.visible=!1,e.loadData(e.page.current)),e.questionmodal.loading=!1}))):(e.$Message.warning("第一题题目内容不能为空"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1)):(e.$Message.warning("第一题题目竞猜截至时间请介于开始时间和结束时间之间"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1))):(e.$Message.warning("第一题题目结束时间不能早于开始时间"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1))):(e.$Message.warning("第一题题目结束时间,开始时间,竞猜截至时间不能为空,请设置"),e.$nextTick(function(){e.questionmodal.loading=!0}),void(e.questionmodal.loading=!1))},FetchProductInfo:function(e){var t=this;e&&t.ajax.post("/GroupBuyingV2/FetchProductInfo",{pid:e}).then(function(e){e.data?(t.modal.productConfig.PID=e.data.PID,t.modal.productConfig.ProductName=e.data.ProductName,t.modal.productConfig.ProductPrice=e.data.ProductPrice):t.$Message.warning("商品 PID 无效")})},handlePageChange:function(e){this.loadData(e)},handlePageSizeChange:function(e){this.page.pageSize=e,this.loadData(this.page.current)},deleteCoupon:function(e){this.modal.productConfig.Coupons.splice(e,1)},handleLogPageSizeChange:function(e){this.logpage.pageSize=e,this.loadData(this.logpage.current)},formatDate:function(e){if(e){var t=new Date(e),o=t.getFullYear(),i=t.getDate(),n=t.getMonth()+1,a=t.getHours(),s=t.getMinutes(),l=t.getSeconds(),r=function(e,t){for(var o=e.toString();o.length<t;)o="0"+o;return o};return 1===o?"":r(o,4)+"-"+r(n,2)+"-"+r(i,2)+" "+r(a,2)+":"+r(s,2)+":"+r(l,2)}return""},isLater:function(e,t){return new Date(e)>=new Date(t)},ConvertValue:function(e){var t="";return 0===e?t="未上架":1===e&&(t="上架"),t},ValidateGuidid:function(e){var t=!0;return!1===new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$","i").test(e)&&(t=!1),t},ConvertBoolValue:function(e){var t="";return!0===e?t="否":!1===e&&(t="是"),t},ConvertDeletedBoolValue:function(e){var t="";return!1===e?t="否":!0===e&&(t="是"),t},QueryQuestionWithOption:function(e){var t=this;this.ajax.get("/GuessGame/GetQuestionWithOptionList?endTime="+this.formatDate(e)).then(function(e){e.data.data[0]?(t.queryquestionmodal.Question1=e.data.data[0],t.queryquestionmodal.visible=!0):e.data.data[1]?(t.queryquestionmodal.Question2=e.data.data[1],t.queryquestionmodal.visible=!0):e.data.data[2]&&(t.queryquestionmodal.QuestionAnswer3=e.data.data[2],t.queryquestionmodal.visible=!0)})}}},y={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1",{staticClass:"title"},[e._v("兑换物配置")]),e._v(" "),o("div",[o("label",[e._v("兑换物名称")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.filters.ActivityPrizeName,expression:"filters.ActivityPrizeName"}],staticStyle:{width:"150px"},domProps:{value:e.filters.ActivityPrizeName},on:{input:function(t){t.target.composing||e.$set(e.filters,"ActivityPrizeName",t.target.value)}}}),e._v(" "),o("lable",{staticStyle:{"margin-left":"13px"}},[e._v("兑换物状态")]),e._v(" "),o("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"上架状态"},model:{value:e.filters.OnSale,callback:function(t){e.$set(e.filters,"OnSale",t)},expression:"filters.OnSale"}},e._l(e.SaleStatusList,function(t){return o("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),o("div",{staticStyle:{"margin-top":"18px"}},[o("Button",{attrs:{type:"success",icon:"search"},on:{click:function(t){e.loadData(1)}}},[e._v("搜索")]),e._v(" "),o("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"success",icon:"plus"},on:{click:function(t){e.searchActivityPrize(0)}}},[e._v("新增兑换物")]),e._v(" "),o("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"success",icon:"load-c"},on:{click:e.RefreshPrizeCache}},[e._v("刷新缓存")])],1),e._v(" "),o("div",{staticStyle:{"margin-top":"18px"}},[o("Table",{staticStyle:{width:"100%"},attrs:{loading:e.table.loading,data:e.table.data,columns:e.table.columns,stripe:""}}),e._v(" "),o("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[o("div",{staticStyle:{float:"right"}},[o("Page",{attrs:{total:e.page.total,"page-size":e.page.pageSize,current:e.page.current,"page-size-opts":[10,30,50],"show-sizer":""},on:{"on-change":e.handlePageChange,"on-page-size-change":e.handlePageSizeChange}})],1)])],1),e._v(" "),o("Modal",{attrs:{title:"操作日志",cancelText:"取消",scrollable:"true",width:e.logmodal.width},on:{"on-cancel":e.cancel},model:{value:e.logmodal.visible,callback:function(t){e.$set(e.logmodal,"visible",t)},expression:"logmodal.visible"}},[o("Table",{attrs:{loading:e.logmodal.loading,data:e.logmodal.data,columns:e.logmodal.columns,stripe:""}})],1),e._v(" "),o("Modal",{attrs:{title:"删除",loading:e.deleteModal.loading,"mask-closable":!1},on:{"on-ok":e.deleteok},model:{value:e.deleteModal.visible,callback:function(t){e.$set(e.deleteModal,"visible",t)},expression:"deleteModal.visible"}},[o("p",[e._v("确认删除？")])]),e._v(" "),o("Modal",{attrs:{title:"上架",loading:e.onsaleModal.loading,"mask-closable":!1},on:{"on-ok":e.onsaleok},model:{value:e.onsaleModal.visible,callback:function(t){e.$set(e.onsaleModal,"visible",t)},expression:"onsaleModal.visible"}},[o("p",[e._v("确认上架？")])]),e._v(" "),o("Modal",{attrs:{title:"下架",loading:e.offsaleModal.loading,"mask-closable":!1},on:{"on-ok":e.offsaleok},model:{value:e.offsaleModal.visible,callback:function(t){e.$set(e.offsaleModal,"visible",t)},expression:"offsaleModal.visible"}},[o("p",[e._v("确认下架？")])]),e._v(" "),o("Modal",{attrs:{loading:e.insertmodal.loading,title:"添加兑换物",okText:"保存",cancelText:"取消",width:"50%","mask-closable":!1},on:{"on-ok":e.SaveActivityPrizeConfig},model:{value:e.insertmodal.visible,callback:function(t){e.$set(e.insertmodal,"visible",t)},expression:"insertmodal.visible"}},[o("Form",{ref:"insertmodal.activityPrize",attrs:{model:e.insertmodal.activityPrize,rules:e.ruleValidate,"label-width":90}},[o("FormItem",{attrs:{label:"兑换物名称"}},[o("Input",{model:{value:e.insertmodal.activityPrize.ActivityPrizeName,callback:function(t){e.$set(e.insertmodal.activityPrize,"ActivityPrizeName",t)},expression:"insertmodal.activityPrize.ActivityPrizeName"}})],1),e._v(" "),o("FormItem",{attrs:{label:"上传缩略图"}},[o("Col",{directives:[{name:"show",rawName:"v-show",value:""!=e.insertmodal.activityPrize.PicUrl,expression:"insertmodal.activityPrize.PicUrl!=''"}],attrs:{span:"4"}},[o("a",{attrs:{href:e.insertmodal.activityPrize.PicUrl,target:"_blank"}},[o("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.insertmodal.activityPrize.PicUrl}})])]),e._v(" "),o("Col",{attrs:{span:"9"}},[o("Upload",{attrs:{action:"/GroupBuyingV2/UploadImage?type=Prizeimage",format:["jpg","jpeg","png"],"on-format-error":e.handleFormatError,"max-size":1e4,"on-exceeded-size":e.handleMaxSize,"on-success":e.handleSuccess,"show-upload-list":!1}},[o("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[e._v("上传图片")])],1)],1),e._v(" "),o("Col",{directives:[{name:"show",rawName:"v-show",value:""!=e.insertmodal.activityPrize.PicUrl,expression:"insertmodal.activityPrize.PicUrl!=''"}],attrs:{span:"9"}},[o("Button",{attrs:{type:"warning",icon:"refresh"},on:{click:function(t){e.insertmodal.activityPrize.PicUrl=""}}},[e._v("清除")])],1)],1),e._v(" "),o("FormItem",{attrs:{label:"图片地址"}},[o("Input",{model:{value:e.insertmodal.activityPrize.PicUrl,callback:function(t){e.$set(e.insertmodal.activityPrize,"PicUrl",t)},expression:"insertmodal.activityPrize.PicUrl"}})],1),e._v(" "),o("FormItem",{attrs:{label:"兑换券数量"}},[o("Input",{model:{value:e.insertmodal.activityPrize.CouponCount,callback:function(t){e.$set(e.insertmodal.activityPrize,"CouponCount",t)},expression:"insertmodal.activityPrize.CouponCount"}})],1),e._v(" "),o("FormItem",{attrs:{label:"库存"}},[o("Input",{model:{value:e.insertmodal.activityPrize.SumStock,callback:function(t){e.$set(e.insertmodal.activityPrize,"SumStock",t)},expression:"insertmodal.activityPrize.SumStock"}})],1),e._v(" "),o("FormItem",{attrs:{label:"是否支持兑换"}},[o("Row",[o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.insertmodal.activityPrize.IsDisableSale,expression:"insertmodal.activityPrize.IsDisableSale"}],attrs:{type:"radio",value:"false"},domProps:{checked:e._q(e.insertmodal.activityPrize.IsDisableSale,"false")},on:{change:function(t){e.$set(e.insertmodal.activityPrize,"IsDisableSale","false")}}}),e._v("是                      \n                      ")]),e._v(" "),o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.insertmodal.activityPrize.IsDisableSale,expression:"insertmodal.activityPrize.IsDisableSale"}],attrs:{type:"radio",value:"true"},domProps:{checked:e._q(e.insertmodal.activityPrize.IsDisableSale,"true")},on:{change:function(t){e.$set(e.insertmodal.activityPrize,"IsDisableSale","true")}}}),e._v("否    \n                      ")])],1)],1),e._v(" "),o("FormItem",{attrs:{label:"优惠券 GUID"}},[o("Input",{model:{value:e.insertmodal.activityPrize.GetRuleId,callback:function(t){e.$set(e.insertmodal.activityPrize,"GetRuleId",t)},expression:"insertmodal.activityPrize.GetRuleId"}})],1)],1)],1),e._v(" "),o("Modal",{attrs:{loading:e.modal.loading,title:"修改兑换物",okText:"保存",cancelText:"取消",width:"50%","mask-closable":!1},on:{"on-ok":e.UpdateActivityPrizeStock},model:{value:e.modal.visible,callback:function(t){e.$set(e.modal,"visible",t)},expression:"modal.visible"}},[o("Form",{ref:"modal.activityPrize",attrs:{model:e.modal.activityPrize,rules:e.ruleValidate,"label-width":90}},[o("FormItem",{attrs:{label:"兑换商品id",prop:"PID"}},[o("Input",{attrs:{disabled:e.modal.disableedit},model:{value:e.modal.activityPrize.PID,callback:function(t){e.$set(e.modal.activityPrize,"PID",t)},expression:"modal.activityPrize.PID"}})],1),e._v(" "),o("FormItem",{attrs:{label:"兑换物名称",prop:"ActivityPrizeName"}},[o("Input",{attrs:{disabled:e.modal.disableedit},model:{value:e.modal.activityPrize.ActivityPrizeName,callback:function(t){e.$set(e.modal.activityPrize,"ActivityPrizeName",t)},expression:"modal.activityPrize.ActivityPrizeName"}})],1),e._v(" "),o("FormItem",{attrs:{label:"图片地址",prop:"PicUrl"}},[o("Input",{attrs:{disabled:e.modal.disableedit},model:{value:e.modal.activityPrize.PicUrl,callback:function(t){e.$set(e.modal.activityPrize,"PicUrl",t)},expression:"modal.activityPrize.PicUrl"}})],1),e._v(" "),o("FormItem",{attrs:{label:"兑换券数量",prop:"CouponCount"}},[o("Input",{attrs:{disabled:e.modal.disableedit},model:{value:e.modal.activityPrize.CouponCount,callback:function(t){e.$set(e.modal.activityPrize,"CouponCount",t)},expression:"modal.activityPrize.CouponCount"}})],1),e._v(" "),o("FormItem",{attrs:{label:"库存改动量",prop:"UpdateStock"}},[o("Input",{model:{value:e.modal.activityPrize.UpdateStock,callback:function(t){e.$set(e.modal.activityPrize,"UpdateStock",t)},expression:"modal.activityPrize.UpdateStock"}})],1),e._v(" "),o("FormItem",{attrs:{label:"当前库存"}},[o("Input",{attrs:{disabled:!0},model:{value:e.modal.activityPrize.Stock,callback:function(t){e.$set(e.modal.activityPrize,"Stock",t)},expression:"modal.activityPrize.Stock"}})],1),e._v(" "),o("FormItem",{attrs:{label:"总库存"}},[o("Input",{attrs:{disabled:!0},model:{value:e.modal.activityPrize.SumStock,callback:function(t){e.$set(e.modal.activityPrize,"SumStock",t)},expression:"modal.activityPrize.SumStock"}})],1),e._v(" "),o("FormItem",{attrs:{label:"是否支持兑换"}},[o("Row",[o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.modal.activityPrize.IsDisableSale,expression:"modal.activityPrize.IsDisableSale"}],attrs:{type:"radio",value:"false",disabled:e.modal.disableedit},domProps:{checked:e._q(e.modal.activityPrize.IsDisableSale,"false")},on:{change:function(t){e.$set(e.modal.activityPrize,"IsDisableSale","false")}}}),e._v("是                      \n                      ")]),e._v(" "),o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.modal.activityPrize.IsDisableSale,expression:"modal.activityPrize.IsDisableSale"}],attrs:{type:"radio",value:"true",disabled:e.modal.disableedit},domProps:{checked:e._q(e.modal.activityPrize.IsDisableSale,"true")},on:{change:function(t){e.$set(e.modal.activityPrize,"IsDisableSale","true")}}}),e._v("否    \n                      ")])],1)],1),e._v(" "),o("FormItem",{attrs:{label:"优惠券 GUID"}},[o("Input",{attrs:{disabled:e.modal.disableedit},model:{value:e.modal.activityPrize.GetRuleId,callback:function(t){e.$set(e.modal.activityPrize,"GetRuleId",t)},expression:"modal.activityPrize.GetRuleId"}})],1)],1)],1),e._v(" "),o("Modal",{attrs:{loading:e.searchmodal.loading,title:"查看兑换物",width:"50%","mask-closable":!1},model:{value:e.searchmodal.visible,callback:function(t){e.$set(e.searchmodal,"visible",t)},expression:"searchmodal.visible"}},[o("Form",{ref:"searchmodal.activityPrize",attrs:{model:e.searchmodal.activityPrize,rules:e.ruleValidate,"label-width":90}},[o("FormItem",{attrs:{label:"兑换物名称"}},[o("Input",{attrs:{disabled:!0},model:{value:e.searchmodal.activityPrize.ActivityPrizeName,callback:function(t){e.$set(e.searchmodal.activityPrize,"ActivityPrizeName",t)},expression:"searchmodal.activityPrize.ActivityPrizeName"}})],1),e._v(" "),o("FormItem",{attrs:{label:"图片地址"}},[o("Input",{attrs:{disabled:!0},model:{value:e.searchmodal.activityPrize.PicUrl,callback:function(t){e.$set(e.searchmodal.activityPrize,"PicUrl",t)},expression:"searchmodal.activityPrize.PicUrl"}})],1),e._v(" "),o("FormItem",{attrs:{label:"兑换券数量"}},[o("Input",{attrs:{disabled:!0},model:{value:e.searchmodal.activityPrize.CouponCount,callback:function(t){e.$set(e.searchmodal.activityPrize,"CouponCount",t)},expression:"searchmodal.activityPrize.CouponCount"}})],1),e._v(" "),o("FormItem",{attrs:{label:"当前库存"}},[o("Input",{attrs:{disabled:!0},model:{value:e.searchmodal.activityPrize.Stock,callback:function(t){e.$set(e.searchmodal.activityPrize,"Stock",t)},expression:"searchmodal.activityPrize.Stock"}})],1),e._v(" "),o("FormItem",{attrs:{label:"总库存"}},[o("Input",{attrs:{disabled:!0},model:{value:e.searchmodal.activityPrize.SumStock,callback:function(t){e.$set(e.searchmodal.activityPrize,"SumStock",t)},expression:"searchmodal.activityPrize.SumStock"}})],1),e._v(" "),o("FormItem",{attrs:{label:"是否支持兑换"}},[o("Row",[o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.searchmodal.activityPrize.IsDisableSale,expression:"searchmodal.activityPrize.IsDisableSale"}],attrs:{type:"radio",value:"false",disabled:!0},domProps:{checked:e._q(e.searchmodal.activityPrize.IsDisableSale,"false")},on:{change:function(t){e.$set(e.searchmodal.activityPrize,"IsDisableSale","false")}}}),e._v("是                      \n                      ")]),e._v(" "),o("Col",{attrs:{span:"11"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.searchmodal.activityPrize.IsDisableSale,expression:"searchmodal.activityPrize.IsDisableSale"}],attrs:{type:"radio",value:"true",disabled:!0},domProps:{checked:e._q(e.searchmodal.activityPrize.IsDisableSale,"true")},on:{change:function(t){e.$set(e.searchmodal.activityPrize,"IsDisableSale","true")}}}),e._v("否    \n                      ")])],1)],1),e._v(" "),o("FormItem",{attrs:{label:"优惠券 GUID"}},[o("Input",{attrs:{disabled:!0},model:{value:e.searchmodal.activityPrize.GetRuleId,callback:function(t){e.$set(e.searchmodal.activityPrize,"GetRuleId",t)},expression:"searchmodal.activityPrize.GetRuleId"}})],1)],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)},staticRenderFns:[]};var f=o("VU/8")(h,y,!1,function(e){o("m22Q")},null,null).exports,C={data:function(){var e=this;return{blockSystemDictionary:{Pintuan:"拼团"},blockTypeDictionary:{1:"IP地址",2:"用户手机号",4:"设备号",8:"用户Id",16:"支付账号"},query:{blockSystem:"Pintuan",blockType:"1"},table:{pageIndex:1,totalSize:1,list:[],cols:[{title:"黑名单类型",key:"BlockType",width:80,render:function(t,o){return t("span",e.blockTypeDictionary[o.row.BlockType])}},{title:"黑名单值",key:"BlockValue"},{title:"黑名单开始时间",width:130,key:"BlockBeginTime"},{title:"黑名单结束时间",width:130,key:"BlockEndTime"},{title:"拉黑原因",key:"Reason"},{title:"备注",key:"Remark"},{title:"更新人",width:120,key:"UpdateBy"},{title:"操作",key:"action",width:80,render:function(t,o){return t("Button",{on:{click:function(){e.$Modal.confirm({title:"警告",content:"确定要删除吗？",onOk:function(){var t=new URLSearchParams;t.append("BlockSystem",e.query.blockSystem),t.append("BlockType",e.query.blockType),t.append("BlockValue",o.row.BlockValue),t.append("BlockBeginTime",o.row.BlockBeginTime),e.util.ajax.post("/BlockListConfig/Delete",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){t.data.Status>0?(e.$Message.success("删除成功"),e.loadData(1)):e.$Message.error({top:50,duration:3,content:t.data.ErrorMsg})})}})}},props:{type:"error"}},"删除")}}],loading:!0},addItem:{showDialog:!1,item:{blockType:"1",blockValue:"",blockBeginTime:{date:"",time:""},blockEndTime:{date:"",time:""},reason:"",remark:""},add:function(){if(e.addItem.item.blockValue){var t=e;e.util.ajax.post("/BlockListConfig/Add",{BlockSystem:e.query.blockSystem,BlockValue:e.addItem.item.blockValue,BlockType:e.addItem.item.blockType,Reason:e.addItem.item.reason,Remark:e.addItem.item.remark,BlockBeginTime:e.addItem.item.blockBeginTime.date+" "+e.addItem.item.blockBeginTime.time,BlockEndTime:e.addItem.item.blockEndTime.date+" "+e.addItem.item.blockEndTime.time}).then(function(e){e.data.Status>0?(console.log("Success"),t.addItem.item.blockType="1",t.addItem.item.blockValue="",t.addItem.item.reason="",t.addItem.item.remark="",t.addItem.item.blockBeginTime.date="",t.addItem.item.blockBeginTime.time="",t.addItem.item.blockEndTime.date="",t.addItem.item.blockEndTime.time="",t.loadData(1)):t.util.message.error({top:100,duration:3,content:e.data.ErrorMsg})})}else e.util.message.error({top:100,duration:3,content:"被拉黑的值不能为空"})},cancel:function(){e.addItem.showDialog=!1}}}},created:function(){this.$route.params.blockSystem&&(this.query.blockSystem=this.$route.params.blockSystem),this.loadData(1)},methods:{loadData:function(e){e||(e=1),this.table.loading=!0;var t=this;this.util.ajax.get("/BlockListConfig/List?blockSystem="+t.query.blockSystem+"&blockType="+t.query.blockType+"&pageIndex="+e+"&pageSize=20").then(function(o){t.table.loading=!1,o.data&&o.data.Status>0&&(t.table.list=o.data.Data,t.table.totalSize=o.data.TotalSize,t.table.pageIndex=e)})},onAdd:function(){this.addItem.showDialog=!0},viewLog:function(){var e=this;this.$Modal.info({title:"操作日志",width:1024,render:function(t){return t("iframe",{attrs:{src:"/CommonConfigLog/ListLoger?objectType="+e.query.blockSystem+"BlockListLog",width:1e3,frameborder:0}})}})}}},q={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h3",[e._v(" "+e._s(e.blockSystemDictionary[e.query.blockSystem])+"黑名单配置")]),e._v(" "),o("div",[o("Form",{attrs:{inline:""}},[o("FormItem",[o("Select",{staticStyle:{width:"140px"},attrs:{filterable:""},on:{"on-change":function(t){e.loadData(1)}},model:{value:e.query.blockType,callback:function(t){e.$set(e.query,"blockType",t)},expression:"query.blockType"}},e._l(Object.keys(e.blockTypeDictionary),function(t){return o("Option",{key:t,attrs:{value:t}},[e._v(e._s(e.blockTypeDictionary[t]))])}))],1),e._v(" "),o("Button",{attrs:{type:"warning"},on:{click:function(t){e.onAdd()}}},[e._v("新增黑名单")]),e._v(" "),o("Button",{attrs:{type:"info"},on:{click:function(t){e.viewLog()}}},[e._v("查看日志")])],1)],1),e._v(" "),o("Table",{staticStyle:{"font-family":"微软雅黑","line-height":"1.4em"},attrs:{border:"",strip:"",loading:e.table.loading,columns:e.table.cols,data:e.table.list}}),e._v(" "),o("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[o("div",{staticStyle:{float:"right"}},[o("Page",{attrs:{total:e.table.totalSize,current:e.table.pageIndex,"show-total":""},on:{"on-change":e.loadData}})],1)]),e._v(" "),o("Modal",{attrs:{title:"新增黑名单"},on:{"on-ok":e.addItem.add,"on-cancel":e.addItem.cancel},model:{value:e.addItem.showDialog,callback:function(t){e.$set(e.addItem,"showDialog",t)},expression:"addItem.showDialog"}},[o("Form",{attrs:{model:e.addItem.item,"label-width":82}},[o("FormItem",{attrs:{label:"黑名单类型"}},[o("Select",{staticStyle:{width:"140px"},attrs:{filterable:""},model:{value:e.addItem.item.blockType,callback:function(t){e.$set(e.addItem.item,"blockType",t)},expression:"addItem.item.blockType"}},e._l(Object.keys(e.blockTypeDictionary),function(t){return o("Option",{key:t,attrs:{value:t}},[e._v(e._s(e.blockTypeDictionary[t]))])}))],1),e._v(" "),o("FormItem",{attrs:{label:"黑名单值"}},[o("Input",{attrs:{placeholder:"要拉入黑名单的值",required:""},model:{value:e.addItem.item.blockValue,callback:function(t){e.$set(e.addItem.item,"blockValue",t)},expression:"addItem.item.blockValue"}})],1),e._v(" "),o("FormItem",{attrs:{label:"开始时间（不设置则立即生效）"}},[o("DatePicker",{attrs:{type:"date",placeholder:"Select date"},model:{value:e.addItem.item.blockBeginTime.date,callback:function(t){e.$set(e.addItem.item.blockBeginTime,"date",t)},expression:"addItem.item.blockBeginTime.date"}}),e._v(" "),o("span",[e._v(" - ")]),e._v(" "),o("TimePicker",{attrs:{type:"time",placeholder:"Select time"},model:{value:e.addItem.item.blockBeginTime.time,callback:function(t){e.$set(e.addItem.item.blockBeginTime,"time",t)},expression:"addItem.item.blockBeginTime.time"}})],1),e._v(" "),o("FormItem",{attrs:{label:"结束时间（不设置则永久生效）"}},[o("DatePicker",{attrs:{type:"date",placeholder:"Select date"},model:{value:e.addItem.item.blockEndTime.date,callback:function(t){e.$set(e.addItem.item.blockEndTime,"date",t)},expression:"addItem.item.blockEndTime.date"}}),e._v(" "),o("span",[e._v(" - ")]),e._v(" "),o("TimePicker",{attrs:{type:"time",placeholder:"Select time"},model:{value:e.addItem.item.blockEndTime.time,callback:function(t){e.$set(e.addItem.item.blockEndTime,"time",t)},expression:"addItem.item.blockEndTime.time"}})],1),e._v(" "),o("FormItem",{attrs:{label:"拉黑原因"}},[o("Input",{attrs:{placeholder:"拉黑原因"},model:{value:e.addItem.item.reason,callback:function(t){e.$set(e.addItem.item,"reason",t)},expression:"addItem.item.reason"}})],1),e._v(" "),o("FormItem",{attrs:{label:"备注"}},[o("Input",{attrs:{placeholder:"备注"},model:{value:e.addItem.item.remark,callback:function(t){e.$set(e.addItem.item,"remark",t)},expression:"addItem.item.remark"}})],1)],1)],1)],1)},staticRenderFns:[]},I=o("VU/8")(C,q,!1,null,null,null).exports;o.d(t,"page404",function(){return b}),o.d(t,"page403",function(){return Q}),o.d(t,"page500",function(){return w}),i.default.use(n.a);var b={path:"/*",name:"error-404",meta:{title:"404-页面不存在"},component:function(){return o.e(0).then(o.bind(null,"LWjT"))}},Q={path:"/403",meta:{title:"403-权限不足"},name:"error-403",component:function(){return o.e(1).then(o.bind(null,"J7+d"))}},w={path:"/500",meta:{title:"500-服务端错误"},name:"error-500",component:function(){return o.e(2).then(o.bind(null,"0Gql"))}};t.default=new n.a({routes:[{path:"",redirect:"seckill/index"},{path:"/seckill/index",name:"seckillindex",component:l,meta:{title:"首页",authpath:"/Seckill/GetSeckillList"}},{path:"/seckill/edit",name:"seckillEdit",component:m,meta:{title:"编辑"}},{path:"/Question",name:"Question",component:g,meta:{title:"答题配置"}},{path:"/Prize",name:"Prize",component:f,meta:{title:"兑换物配置"}},{path:"/BlockList/Pintuan",name:"PintuanBlockList",component:I,meta:{title:"拼团黑名单配置",authpath:"/BlockListConfig/List"}},{path:"/BlockList/:blockSystem",name:"BlockList",component:I,meta:{title:"黑名单配置",authpath:"/BlockListConfig/List"}},Q,w,b]})},lMxS:function(e,t){},m22Q:function(e,t){},pDZY:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e69aed03f5dafe13276b.js.map