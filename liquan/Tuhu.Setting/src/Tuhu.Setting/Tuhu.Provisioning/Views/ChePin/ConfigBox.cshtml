@model Tuhu.Provisioning.DataAccess.Entity.AdColumnModel
@{
    Tuhu.Provisioning.DataAccess.Entity.AdvertiseModel advertise = null;
    if (Model.Advertises != null && Model.Advertises.Any())
    {
        advertise = Model.Advertises.FirstOrDefault();
    }
    var url = "https://image.tuhu.cn";
    var Products = Model.Products;
}

<div class="content">
    <ul>
        @if (String.Compare(ViewBag.type, "advertise", true) == 0)//广告位里的广告
        {
            if (String.Compare(ViewBag.act, "add", true) == 0)//新增
            {
                <li>
                    @if (ViewBag.remark == "banner")
                    {
                        @:广告顺序：
                        <input type="text" name="Position" /><span class="bitian">不能为空</span>
                    }
                    else
                    {
                        <input type="hidden" name="Position" value="0" />
                    }
                </li>

            }
            else//修改
            {
                <li>
                    <input type="text" name="Position" value="@advertise.Position" /><span class="bitian">不能为空</span>
                </li>
            }
            <li>
                广告标题：
                <input type="hidden" name="AdColumnID" value="@Model.ID" />
                <input type="hidden" name="PKID" value="@(advertise==null?0:advertise.PKID)" />
                <input type="text" name="AdName" value="@(advertise == null?null:advertise.AdName)" maxlength="14" placeholder="最多14个字" />
                <span class="bitian">不能为空</span>
            </li>
            <li>
                广告时间：
                <input type="text" name="BeginDateTime" id="startDate" readonly="readonly" value="@(advertise == null || advertise.BeginDateTime==null? null : advertise.BeginDateTime.ToString("yyyy-MM-dd HH:mm"))" /><span class="bitian">不能为空</span>
                —
                <input type="text" name="EndDateTime" id="endDate" readonly="readonly" value="@(advertise == null || advertise.EndDateTime==null ? null : advertise.EndDateTime.ToString("yyyy-MM-dd HH:mm"))" /><span class="bitian">不能为空</span>

            </li>

            <li class="imgli">
                广告图片：<input type="hidden" name="Image" value="@(advertise == null ? null : advertise.Image)" />
                <div class="imgshow">
                    上传图片
                    <img src="@(advertise == null ? null : url + advertise.Image)" />
                    <input type="file" name="Img" style="display:none;" id="image" accept="image/*" />
                </div>
                <span class="bitian">不能为空</span>
            </li>
            <li>广告链接：<input type="text" name="Url" value="@(advertise == null ? null : advertise.Url)" placeholder="以http（或https）://开头" /><span class="bitian">不能为空</span></li>
                    <li style="display:@(String.Compare(Model.ID, "AutoProduct_Banner", true) == 0  ? null : "none")">
                        背景颜色：<input type="text" name="bgColor" value="@(advertise == null ? null : advertise.bgColor)" /><span class="bitian">不能为空</span>
                    </li>
                    <li>
                        状态：
                        <label><input type="radio" name="state" value="1" class="state" checked="@(advertise == null || advertise.State == 1 ? "checked" :null)" />开启</label>
                        <label><input type="radio" name="state" value="0" class="state" checked="@(advertise==null||advertise.State==1?null:"checked")" />关闭</label>
                    </li>
        }
        else
        {
            <li>
                <input type="hidden" name="ID" value="@Model.ID" />
                <input type="hidden" name="ADCName" value="@(String.IsNullOrWhiteSpace(Model.ADCName) ? Model.ID : Model.ADCName)" />
            </li>
                <li class="imgli">
                    广告图片：<input type="hidden" name="DefaultImage" value="@Model.DefaultImage" />
                    <div class="imgshow">
                        上传图片
                        <img src="@(String.IsNullOrWhiteSpace(Model.DefaultImage)?null:url+Model.DefaultImage)" />
                        <input type="file" name="DefaultImg" style=" display:none;" id="image" accept="image/*" />
                    </div>
                    <span class="bitian">不能为空</span>
                </li>
                    <li>广告链接：<input type="text" name="DefaultUrl" value="@Model.DefaultUrl" placeholder="以http（或https）://开头" /><span class="bitian">不能为空</span></li>
                    <li style="display:@(String.Compare(Model.ID, "AutoProduct_Banner", true) == 0? null : "none")">
                        背景颜色：<input type="text" name="DefaultbgColor" value="@Model.DefaultbgColor" /><span class="bitian">不能为空</span>
                    </li>

        }
    </ul>

    <div class="save" data-type="@(String.Compare(ViewBag.type, "advertise", true) == 0 ? "advertise" : "adcolunm")" data-action="@ViewBag.act">保存</div>
</div>